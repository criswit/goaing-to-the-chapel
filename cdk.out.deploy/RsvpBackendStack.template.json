{
 "Description": "RSVP backend infrastructure for wedding website",
 "Resources": {
  "AuthInfrastructureAuthParameterKeyC648EFAB": {
   "Type": "AWS::KMS::Key",
   "Properties": {
    "Description": "KMS key for encrypting JWT signing keys - production",
    "EnableKeyRotation": true,
    "KeyPolicy": {
     "Statement": [
      {
       "Action": "kms:*",
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:aws:iam::",
           {
            "Ref": "AWS::AccountId"
           },
           ":root"
          ]
         ]
        }
       },
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "Tags": [
     {
      "Key": "Component",
      "Value": "Auth-Infrastructure"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/AuthInfrastructure/AuthParameterKey/Resource"
   }
  },
  "AuthInfrastructureAuthParameterKeyAlias6DFA75F6": {
   "Type": "AWS::KMS::Alias",
   "Properties": {
    "AliasName": "alias/wedding-rsvp-auth-production",
    "TargetKeyId": {
     "Fn::GetAtt": [
      "AuthInfrastructureAuthParameterKeyC648EFAB",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/AuthInfrastructure/AuthParameterKey/Alias/Resource"
   }
  },
  "AuthInfrastructureJWTPrivateKey4134C097": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Description": "RSA private key for JWT signing (RS256)",
    "Name": "/wedding-rsvp/production/jwt/private-key",
    "Tags": {
     "Component": "Auth-Infrastructure",
     "Environment": "production",
     "ManagedBy": "CDK",
     "Project": "WeddingWebsite"
    },
    "Tier": "Standard",
    "Type": "String",
    "Value": "-----BEGIN PRIVATE KEY-----\nMIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQCeIvtkuc39mlVE\nkho5yUFNAYFuQFP9ciCzvPxMWL6YK5BsZ7Ksk+zbGcDire2CMmYhqFSHb5HYG8/A\n7+UqkIFFXuJkhIA0PBad1xPTtb3niD2WGudJd0xXehv6za9mWx3a5tr7Y3GeDRWr\nNd7yR/1T7rer9OJNC8ZYZ/mD7vSBbMpPN7fePryJ+A3iaf4Nb2aEW4yv4klDIvkZ\n8n2fuKQrH+z7XR06yKyQS5qIzx0VpKUQQwA+JSBalovLJTYgtB64ZvtZCJaOsjtT\nZojLlcbHoyQoBs70Hwl24v4DIbWD1faSREikUCul0z2o74oOPgMtCzxSzF5PmPkA\nhomeYfi1AgMBAAECggEAA2A6+S1tRsN0xra5bW/iNL8PkLdkrksG2dzIObywREaJ\nJK35tsJJWBZpPihD4y0Tw0FZHUi7YT9wvzfv2WmF1PcKWBErEn0Q54mNUGOiHE9V\n2ek/nvDMy1ZIQsxWzlWAzOjzllJ1vQ/JnWLURwb/PbuMJhU01Tu8iNZ0EXC4aAs5\nAFmgyJy2zdq62iwGeJFCxhzvLv+7JNg7v5p82DwDoiyc+bhdG7+1HKvhgLpOHW88\nPOfngtSiHmvQHfpsPKN7VsQLMpkuPayPN6n+FHSpuyDxvYZLK3182O/br+MjqBBz\nFgA6doDZyd39i3P0yJIFMy/PmMJUuR9SZeXik/fV6QKBgQDP7qzryRegyDbPKuwH\nzyy/nNqgs7KbKkvrNWxIc9nPp2yczSkuyakxNEbAsyGBVfIGYkItiKnpm09fuLNh\nOGJ9GXHdvnWYDq3994VeAxBmejJvEPNmJKgM80zuQHEzg4CW60xlLWcHgpZsuHBA\nOmHGu6+KfEefEuYyODlMDQ3CSQKBgQDCsWy/z0lXJp1b45i96kMT1ESnIxG40V1A\nNe+wKt/oCxLQpUJADzvG+0lUIoh6RBQVoncCyfLEnt+COz3AKKvncTwWPlSRQkh6\nvL4gziYaPsUhJMr52A0WcxSkx+PufBFHWxjsKMSVd515gIfIt5xrTtmL07IVMvY6\n8qO7ZCZDDQKBgQCVI13H6H4YBkK5qNGOcFxqOvjc1sa+YEH/vFukQ+Pv+uf+N3DY\nbC/8aMBuqozXlWt4hLVur10ffxQZVgLjMmwBymRPZbI2lCDbzdNMsOnsdq0B2Kib\nlKMsVr3RDUukZSewF6i90SjazCFUbZ2lk7pZrnij3awJPqb5UjZWg+5gcQKBgQCq\n/JHKvyzlGme27OMXX+c7QgBtXVJSI6WnH/d6m5z7uMX0cj8F7ZsNPWIAPzfnUWTm\nP0IQM/Y/ElyvjoHEArQ+1mb0DhfNXw4ypRLB0usJv7j3S83rsQCFh9pIgbk/mLzA\nE1SHC6LitiOaMvSNphv87koHEIvlLFWuHa0IhYNI/QKBgQDFAygYnUoBtZgFrhp/\nygkbU2hfrvo6JVe8TmUN28idZ0cMwiOa9npp7iYjCNjAFwx753DGDub+TPc+OCx8\nkTStECX8Av5/ypI4BCwdPHfr/uzZqqYbEZIgVvyRLn/C5w8ote5OoP4WJ/ow+W/f\nYTx0LyhW/P+ue4Ul+k86ZFF1lw==\n-----END PRIVATE KEY-----\n"
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/AuthInfrastructure/JWTPrivateKey/Resource"
   }
  },
  "AuthInfrastructureJWTPublicKey86A54DEC": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Description": "RSA public key for JWT verification (RS256)",
    "Name": "/wedding-rsvp/production/jwt/public-key",
    "Tags": {
     "Component": "Auth-Infrastructure",
     "Environment": "production",
     "ManagedBy": "CDK",
     "Project": "WeddingWebsite"
    },
    "Tier": "Standard",
    "Type": "String",
    "Value": "-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAniL7ZLnN/ZpVRJIaOclB\nTQGBbkBT/XIgs7z8TFi+mCuQbGeyrJPs2xnA4q3tgjJmIahUh2+R2BvPwO/lKpCB\nRV7iZISANDwWndcT07W954g9lhrnSXdMV3ob+s2vZlsd2uba+2Nxng0VqzXe8kf9\nU+63q/TiTQvGWGf5g+70gWzKTze33j68ifgN4mn+DW9mhFuMr+JJQyL5GfJ9n7ik\nKx/s+10dOsiskEuaiM8dFaSlEEMAPiUgWpaLyyU2ILQeuGb7WQiWjrI7U2aIy5XG\nx6MkKAbO9B8JduL+AyG1g9X2kkRIpFArpdM9qO+KDj4DLQs8UsxeT5j5AIaJnmH4\ntQIDAQAB\n-----END PUBLIC KEY-----\n"
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/AuthInfrastructure/JWTPublicKey/Resource"
   }
  },
  "AuthInfrastructureJWTConfigD7520B59": {
   "Type": "AWS::SSM::Parameter",
   "Properties": {
    "Description": "JWT configuration settings",
    "Name": "/wedding-rsvp/production/jwt/config",
    "Tags": {
     "Component": "Auth-Infrastructure",
     "Environment": "production",
     "ManagedBy": "CDK",
     "Project": "WeddingWebsite"
    },
    "Tier": "Standard",
    "Type": "String",
    "Value": "{\"algorithm\":\"RS256\",\"expiresIn\":\"1h\",\"issuer\":\"wedding-rsvp-production\",\"audience\":\"wedding-guests\",\"keyRotationSchedule\":\"90 days\"}"
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/AuthInfrastructure/JWTConfig/Resource"
   }
  },
  "DatabaseRsvpTableA1E8C671": {
   "Type": "AWS::DynamoDB::Table",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "PK",
      "AttributeType": "S"
     },
     {
      "AttributeName": "SK",
      "AttributeType": "S"
     },
     {
      "AttributeName": "InvitationCode",
      "AttributeType": "S"
     },
     {
      "AttributeName": "created_at",
      "AttributeType": "S"
     },
     {
      "AttributeName": "EventStatus",
      "AttributeType": "S"
     },
     {
      "AttributeName": "updated_at",
      "AttributeType": "S"
     },
     {
      "AttributeName": "EntityType",
      "AttributeType": "S"
     },
     {
      "AttributeName": "AdminDate",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "GlobalSecondaryIndexes": [
     {
      "IndexName": "InvitationCodeIndex",
      "KeySchema": [
       {
        "AttributeName": "InvitationCode",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "created_at",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      }
     },
     {
      "IndexName": "EventStatusIndex",
      "KeySchema": [
       {
        "AttributeName": "EventStatus",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "updated_at",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "ProjectionType": "ALL"
      }
     },
     {
      "IndexName": "AdminDateIndex",
      "KeySchema": [
       {
        "AttributeName": "EntityType",
        "KeyType": "HASH"
       },
       {
        "AttributeName": "AdminDate",
        "KeyType": "RANGE"
       }
      ],
      "Projection": {
       "NonKeyAttributes": [
        "guest_name",
        "email",
        "rsvp_status",
        "event_id",
        "plus_ones_count",
        "updated_at"
       ],
       "ProjectionType": "INCLUDE"
      }
     }
    ],
    "KeySchema": [
     {
      "AttributeName": "PK",
      "KeyType": "HASH"
     },
     {
      "AttributeName": "SK",
      "KeyType": "RANGE"
     }
    ],
    "PointInTimeRecoverySpecification": {
     "PointInTimeRecoveryEnabled": true
    },
    "SSESpecification": {
     "SSEEnabled": true
    },
    "StreamSpecification": {
     "StreamViewType": "NEW_AND_OLD_IMAGES"
    },
    "TableName": "wedding-rsvp-production",
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-Database"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Database/RsvpTable/Resource"
   }
  },
  "EmailInfrastructureDomainIdentity62470D7F": {
   "Type": "AWS::SES::EmailIdentity",
   "Properties": {
    "DkimAttributes": {
     "SigningEnabled": true
    },
    "EmailIdentity": "wedding.himnher.dev",
    "FeedbackAttributes": {
     "EmailForwardingEnabled": true
    },
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/DomainIdentity/Resource"
   }
  },
  "EmailInfrastructureConfigurationSet32710208": {
   "Type": "AWS::SES::ConfigurationSet",
   "Properties": {
    "Name": "wedding-rsvp-production",
    "SendingOptions": {
     "SendingEnabled": true
    },
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/ConfigurationSet/Resource"
   }
  },
  "EmailInfrastructureBounceNotificationTopicB9461738": {
   "Type": "AWS::SNS::Topic",
   "Properties": {
    "DisplayName": "Wedding RSVP Bounce Notifications",
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "TopicName": "wedding-rsvp-bounce-notifications-production"
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/BounceNotificationTopic/Resource"
   }
  },
  "EmailInfrastructureBounceNotificationTopicweddinghimnherdev687E9101": {
   "Type": "AWS::SNS::Subscription",
   "Properties": {
    "Endpoint": "wedding@himnher.dev",
    "Protocol": "email",
    "TopicArn": {
     "Ref": "EmailInfrastructureBounceNotificationTopicB9461738"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/BounceNotificationTopic/wedding@himnher.dev/Resource"
   }
  },
  "EmailInfrastructureBounceNotificationTopicPolicy0C4AD01B": {
   "Type": "AWS::SNS::TopicPolicy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "sns:Publish",
       "Condition": {
        "StringEquals": {
         "AWS:SourceAccount": {
          "Ref": "AWS::AccountId"
         },
         "AWS:SourceArn": {
          "Fn::Join": [
           "",
           [
            "arn:",
            {
             "Ref": "AWS::Partition"
            },
            ":ses:us-east-1:",
            {
             "Ref": "AWS::AccountId"
            },
            ":configuration-set/",
            {
             "Ref": "EmailInfrastructureConfigurationSet32710208"
            }
           ]
          ]
         }
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "ses.amazonaws.com"
       },
       "Resource": {
        "Ref": "EmailInfrastructureBounceNotificationTopicB9461738"
       },
       "Sid": "0"
      }
     ],
     "Version": "2012-10-17"
    },
    "Topics": [
     {
      "Ref": "EmailInfrastructureBounceNotificationTopicB9461738"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/BounceNotificationTopic/Policy/Resource"
   }
  },
  "EmailInfrastructureComplaintNotificationTopicB0E65C04": {
   "Type": "AWS::SNS::Topic",
   "Properties": {
    "DisplayName": "Wedding RSVP Complaint Notifications",
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "TopicName": "wedding-rsvp-complaint-notifications-production"
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/ComplaintNotificationTopic/Resource"
   }
  },
  "EmailInfrastructureComplaintNotificationTopicweddinghimnherdev19CE24A1": {
   "Type": "AWS::SNS::Subscription",
   "Properties": {
    "Endpoint": "wedding@himnher.dev",
    "Protocol": "email",
    "TopicArn": {
     "Ref": "EmailInfrastructureComplaintNotificationTopicB0E65C04"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/ComplaintNotificationTopic/wedding@himnher.dev/Resource"
   }
  },
  "EmailInfrastructureComplaintNotificationTopicPolicy7B01A9D8": {
   "Type": "AWS::SNS::TopicPolicy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "sns:Publish",
       "Condition": {
        "StringEquals": {
         "AWS:SourceAccount": {
          "Ref": "AWS::AccountId"
         },
         "AWS:SourceArn": {
          "Fn::Join": [
           "",
           [
            "arn:",
            {
             "Ref": "AWS::Partition"
            },
            ":ses:us-east-1:",
            {
             "Ref": "AWS::AccountId"
            },
            ":configuration-set/",
            {
             "Ref": "EmailInfrastructureConfigurationSet32710208"
            }
           ]
          ]
         }
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "ses.amazonaws.com"
       },
       "Resource": {
        "Ref": "EmailInfrastructureComplaintNotificationTopicB0E65C04"
       },
       "Sid": "0"
      }
     ],
     "Version": "2012-10-17"
    },
    "Topics": [
     {
      "Ref": "EmailInfrastructureComplaintNotificationTopicB0E65C04"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/ComplaintNotificationTopic/Policy/Resource"
   }
  },
  "EmailInfrastructureBounceDLQ80EC0262": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "MessageRetentionPeriod": 1209600,
    "QueueName": "wedding-rsvp-bounce-dlq-production",
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/BounceDLQ/Resource"
   }
  },
  "EmailInfrastructureComplaintDLQ93A54850": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "MessageRetentionPeriod": 1209600,
    "QueueName": "wedding-rsvp-complaint-dlq-production",
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/ComplaintDLQ/Resource"
   }
  },
  "EmailInfrastructureEmailDLQA3355330": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "MessageRetentionPeriod": 1209600,
    "QueueName": "wedding-rsvp-email-dlq-production",
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/EmailDLQ/Resource"
   }
  },
  "EmailInfrastructureBounceQueueF3B4CA39": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "MessageRetentionPeriod": 604800,
    "QueueName": "wedding-rsvp-bounce-queue-production",
    "RedrivePolicy": {
     "deadLetterTargetArn": {
      "Fn::GetAtt": [
       "EmailInfrastructureBounceDLQ80EC0262",
       "Arn"
      ]
     },
     "maxReceiveCount": 3
    },
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "VisibilityTimeout": 60
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/BounceQueue/Resource"
   }
  },
  "EmailInfrastructureBounceQueuePolicyBB4BB02D": {
   "Type": "AWS::SQS::QueuePolicy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "sqs:SendMessage",
       "Condition": {
        "ArnEquals": {
         "aws:SourceArn": {
          "Ref": "EmailInfrastructureBounceNotificationTopicB9461738"
         }
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "sns.amazonaws.com"
       },
       "Resource": {
        "Fn::GetAtt": [
         "EmailInfrastructureBounceQueueF3B4CA39",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Queues": [
     {
      "Ref": "EmailInfrastructureBounceQueueF3B4CA39"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/BounceQueue/Policy/Resource"
   }
  },
  "EmailInfrastructureBounceQueueRsvpBackendStackEmailInfrastructureBounceNotificationTopicE5D376D20B543D2E": {
   "Type": "AWS::SNS::Subscription",
   "Properties": {
    "Endpoint": {
     "Fn::GetAtt": [
      "EmailInfrastructureBounceQueueF3B4CA39",
      "Arn"
     ]
    },
    "Protocol": "sqs",
    "RawMessageDelivery": true,
    "TopicArn": {
     "Ref": "EmailInfrastructureBounceNotificationTopicB9461738"
    }
   },
   "DependsOn": [
    "EmailInfrastructureBounceQueuePolicyBB4BB02D"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/BounceQueue/RsvpBackendStackEmailInfrastructureBounceNotificationTopicE5D376D2/Resource"
   }
  },
  "EmailInfrastructureComplaintQueue1972F484": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "MessageRetentionPeriod": 604800,
    "QueueName": "wedding-rsvp-complaint-queue-production",
    "RedrivePolicy": {
     "deadLetterTargetArn": {
      "Fn::GetAtt": [
       "EmailInfrastructureComplaintDLQ93A54850",
       "Arn"
      ]
     },
     "maxReceiveCount": 3
    },
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "VisibilityTimeout": 60
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/ComplaintQueue/Resource"
   }
  },
  "EmailInfrastructureComplaintQueuePolicyC292B03A": {
   "Type": "AWS::SQS::QueuePolicy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "sqs:SendMessage",
       "Condition": {
        "ArnEquals": {
         "aws:SourceArn": {
          "Ref": "EmailInfrastructureComplaintNotificationTopicB0E65C04"
         }
        }
       },
       "Effect": "Allow",
       "Principal": {
        "Service": "sns.amazonaws.com"
       },
       "Resource": {
        "Fn::GetAtt": [
         "EmailInfrastructureComplaintQueue1972F484",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Queues": [
     {
      "Ref": "EmailInfrastructureComplaintQueue1972F484"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/ComplaintQueue/Policy/Resource"
   }
  },
  "EmailInfrastructureComplaintQueueRsvpBackendStackEmailInfrastructureComplaintNotificationTopic1025EE3F83D78242": {
   "Type": "AWS::SNS::Subscription",
   "Properties": {
    "Endpoint": {
     "Fn::GetAtt": [
      "EmailInfrastructureComplaintQueue1972F484",
      "Arn"
     ]
    },
    "Protocol": "sqs",
    "RawMessageDelivery": true,
    "TopicArn": {
     "Ref": "EmailInfrastructureComplaintNotificationTopicB0E65C04"
    }
   },
   "DependsOn": [
    "EmailInfrastructureComplaintQueuePolicyC292B03A"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/ComplaintQueue/RsvpBackendStackEmailInfrastructureComplaintNotificationTopic1025EE3F/Resource"
   }
  },
  "EmailInfrastructureEmailQueue5311AA87": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "MessageRetentionPeriod": 604800,
    "QueueName": "wedding-rsvp-email-queue-production",
    "RedrivePolicy": {
     "deadLetterTargetArn": {
      "Fn::GetAtt": [
       "EmailInfrastructureEmailDLQA3355330",
       "Arn"
      ]
     },
     "maxReceiveCount": 5
    },
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "VisibilityTimeout": 300
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/EmailQueue/Resource"
   }
  },
  "EmailInfrastructureBounceEventDestinationEA0B0DF8": {
   "Type": "AWS::SES::ConfigurationSetEventDestination",
   "Properties": {
    "ConfigurationSetName": {
     "Ref": "EmailInfrastructureConfigurationSet32710208"
    },
    "EventDestination": {
     "Enabled": true,
     "MatchingEventTypes": [
      "bounce",
      "reject"
     ],
     "Name": "bounce-destination-production",
     "SnsDestination": {
      "TopicARN": {
       "Ref": "EmailInfrastructureBounceNotificationTopicB9461738"
      }
     }
    }
   },
   "DependsOn": [
    "EmailInfrastructureBounceNotificationTopicPolicy0C4AD01B"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/BounceEventDestination/Resource"
   }
  },
  "EmailInfrastructureComplaintEventDestination19D43554": {
   "Type": "AWS::SES::ConfigurationSetEventDestination",
   "Properties": {
    "ConfigurationSetName": {
     "Ref": "EmailInfrastructureConfigurationSet32710208"
    },
    "EventDestination": {
     "Enabled": true,
     "MatchingEventTypes": [
      "complaint"
     ],
     "Name": "complaint-destination-production",
     "SnsDestination": {
      "TopicARN": {
       "Ref": "EmailInfrastructureComplaintNotificationTopicB0E65C04"
      }
     }
    }
   },
   "DependsOn": [
    "EmailInfrastructureComplaintNotificationTopicPolicy7B01A9D8"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/ComplaintEventDestination/Resource"
   }
  },
  "EmailInfrastructureSESRoleF81B7B69": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Policies": [
     {
      "PolicyDocument": {
       "Statement": [
        {
         "Action": [
          "ses:SendBulkTemplatedEmail",
          "ses:SendEmail",
          "ses:SendRawEmail",
          "ses:SendTemplatedEmail"
         ],
         "Effect": "Allow",
         "Resource": [
          {
           "Fn::Join": [
            "",
            [
             "arn:aws:ses:us-east-1:",
             {
              "Ref": "AWS::AccountId"
             },
             ":configuration-set/*"
            ]
           ]
          },
          {
           "Fn::Join": [
            "",
            [
             "arn:aws:ses:us-east-1:",
             {
              "Ref": "AWS::AccountId"
             },
             ":identity/wedding.himnher.dev"
            ]
           ]
          }
         ]
        },
        {
         "Action": [
          "ses:DescribeConfigurationSet",
          "ses:GetSendQuota",
          "ses:GetSendStatistics"
         ],
         "Effect": "Allow",
         "Resource": "*"
        }
       ],
       "Version": "2012-10-17"
      },
      "PolicyName": "SESSendEmailPolicy"
     }
    ],
    "RoleName": "wedding-rsvp-ses-role-production",
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailInfrastructure/SESRole/Resource"
   }
  },
  "EmailLambdasSendEmailLogsA3521483": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 30,
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/SendEmailLogs/Resource"
   }
  },
  "EmailLambdasSendEmailFunctionServiceRole7F470561": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/SendEmailFunction/ServiceRole/Resource"
   }
  },
  "EmailLambdasSendEmailFunctionServiceRoleDefaultPolicy1725AA6D": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "DatabaseRsvpTableA1E8C671",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "DatabaseRsvpTableA1E8C671",
             "Arn"
            ]
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "ses:SendBulkTemplatedEmail",
        "ses:SendEmail",
        "ses:SendRawEmail",
        "ses:SendTemplatedEmail"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "sqs:ChangeMessageVisibility",
        "sqs:DeleteMessage",
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl",
        "sqs:ReceiveMessage"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "EmailInfrastructureEmailQueue5311AA87",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "EmailLambdasSendEmailFunctionServiceRoleDefaultPolicy1725AA6D",
    "Roles": [
     {
      "Ref": "EmailLambdasSendEmailFunctionServiceRole7F470561"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/SendEmailFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "EmailLambdasSendEmailFunctionB67F7821": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "137ea573ab1848274f0bb1aaf501bc171f6af7b1836651150f9582be9e59db31.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "DatabaseRsvpTableA1E8C671"
      },
      "SOURCE_EMAIL": "noreply@wedding.himnher.dev",
      "CONFIGURATION_SET": "wedding-rsvp-production",
      "WEBSITE_URL": "https://wedding.himnher.dev",
      "ENVIRONMENT": "production"
     }
    },
    "FunctionName": "wedding-send-email-production",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "EmailLambdasSendEmailLogsA3521483"
     }
    },
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "EmailLambdasSendEmailFunctionServiceRole7F470561",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "Timeout": 60
   },
   "DependsOn": [
    "EmailLambdasSendEmailFunctionServiceRoleDefaultPolicy1725AA6D",
    "EmailLambdasSendEmailFunctionServiceRole7F470561"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/SendEmailFunction/Resource",
    "aws:asset:path": "asset.137ea573ab1848274f0bb1aaf501bc171f6af7b1836651150f9582be9e59db31",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "EmailLambdasSendEmailFunctionSqsEventSourceRsvpBackendStackEmailInfrastructureEmailQueue71EE54438B4BFFAD": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "BatchSize": 10,
    "EventSourceArn": {
     "Fn::GetAtt": [
      "EmailInfrastructureEmailQueue5311AA87",
      "Arn"
     ]
    },
    "FunctionName": {
     "Ref": "EmailLambdasSendEmailFunctionB67F7821"
    },
    "FunctionResponseTypes": [
     "ReportBatchItemFailures"
    ],
    "MaximumBatchingWindowInSeconds": 5,
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/SendEmailFunction/SqsEventSource:RsvpBackendStackEmailInfrastructureEmailQueue71EE5443/Resource"
   }
  },
  "EmailLambdasProcessEmailQueueLogs7FB80DCE": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 30,
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessEmailQueueLogs/Resource"
   }
  },
  "EmailLambdasProcessEmailQueueFunctionServiceRoleA5E3FF84": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction/ServiceRole/Resource"
   }
  },
  "EmailLambdasProcessEmailQueueFunctionServiceRoleDefaultPolicy5792DB0F": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "DatabaseRsvpTableA1E8C671",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "DatabaseRsvpTableA1E8C671",
             "Arn"
            ]
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "EmailLambdasSendEmailFunctionB67F7821",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "EmailLambdasSendEmailFunctionB67F7821",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "EmailLambdasProcessEmailQueueFunctionServiceRoleDefaultPolicy5792DB0F",
    "Roles": [
     {
      "Ref": "EmailLambdasProcessEmailQueueFunctionServiceRoleA5E3FF84"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "EmailLambdasProcessEmailQueueFunctionED1A6970": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "d61b87e27f97c239f70b59c1133166147e8bf7c5ca9de35b6a861e6dc0576107.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "DatabaseRsvpTableA1E8C671"
      },
      "SOURCE_EMAIL": "noreply@wedding.himnher.dev",
      "CONFIGURATION_SET": "wedding-rsvp-production",
      "WEBSITE_URL": "https://wedding.himnher.dev",
      "ENVIRONMENT": "production",
      "SEND_EMAIL_FUNCTION_NAME": {
       "Ref": "EmailLambdasSendEmailFunctionB67F7821"
      }
     }
    },
    "FunctionName": "wedding-process-email-queue-production",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "EmailLambdasProcessEmailQueueLogs7FB80DCE"
     }
    },
    "MemorySize": 1024,
    "Role": {
     "Fn::GetAtt": [
      "EmailLambdasProcessEmailQueueFunctionServiceRoleA5E3FF84",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "Timeout": 300
   },
   "DependsOn": [
    "EmailLambdasProcessEmailQueueFunctionServiceRoleDefaultPolicy5792DB0F",
    "EmailLambdasProcessEmailQueueFunctionServiceRoleA5E3FF84"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction/Resource",
    "aws:asset:path": "asset.d61b87e27f97c239f70b59c1133166147e8bf7c5ca9de35b6a861e6dc0576107",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "EmailLambdasProcessBounceLogsF09D0EF3": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 30,
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessBounceLogs/Resource"
   }
  },
  "EmailLambdasProcessBounceFunctionServiceRole2A2B4617": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessBounceFunction/ServiceRole/Resource"
   }
  },
  "EmailLambdasProcessBounceFunctionServiceRoleDefaultPolicyFC4E65B8": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "DatabaseRsvpTableA1E8C671",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "DatabaseRsvpTableA1E8C671",
             "Arn"
            ]
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "sqs:ChangeMessageVisibility",
        "sqs:DeleteMessage",
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl",
        "sqs:ReceiveMessage"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "EmailInfrastructureBounceQueueF3B4CA39",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "EmailLambdasProcessBounceFunctionServiceRoleDefaultPolicyFC4E65B8",
    "Roles": [
     {
      "Ref": "EmailLambdasProcessBounceFunctionServiceRole2A2B4617"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessBounceFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "EmailLambdasProcessBounceFunction3D0401F2": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "24b7a001d6dc2149b765f8b6edaa44fa44babe85fdebf3f3b1b909eb1ea411c7.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "DatabaseRsvpTableA1E8C671"
      },
      "SOURCE_EMAIL": "noreply@wedding.himnher.dev",
      "CONFIGURATION_SET": "wedding-rsvp-production",
      "WEBSITE_URL": "https://wedding.himnher.dev",
      "ENVIRONMENT": "production"
     }
    },
    "FunctionName": "wedding-process-bounce-production",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "EmailLambdasProcessBounceLogsF09D0EF3"
     }
    },
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "EmailLambdasProcessBounceFunctionServiceRole2A2B4617",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "Timeout": 60
   },
   "DependsOn": [
    "EmailLambdasProcessBounceFunctionServiceRoleDefaultPolicyFC4E65B8",
    "EmailLambdasProcessBounceFunctionServiceRole2A2B4617"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessBounceFunction/Resource",
    "aws:asset:path": "asset.24b7a001d6dc2149b765f8b6edaa44fa44babe85fdebf3f3b1b909eb1ea411c7",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "EmailLambdasProcessBounceFunctionSqsEventSourceRsvpBackendStackEmailInfrastructureBounceQueue5F02AF6681505CCD": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "BatchSize": 10,
    "EventSourceArn": {
     "Fn::GetAtt": [
      "EmailInfrastructureBounceQueueF3B4CA39",
      "Arn"
     ]
    },
    "FunctionName": {
     "Ref": "EmailLambdasProcessBounceFunction3D0401F2"
    },
    "FunctionResponseTypes": [
     "ReportBatchItemFailures"
    ],
    "MaximumBatchingWindowInSeconds": 5,
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessBounceFunction/SqsEventSource:RsvpBackendStackEmailInfrastructureBounceQueue5F02AF66/Resource"
   }
  },
  "EmailLambdasProcessComplaintLogsB87A6220": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 30,
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessComplaintLogs/Resource"
   }
  },
  "EmailLambdasProcessComplaintFunctionServiceRoleF45357CF": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/ServiceRole/Resource"
   }
  },
  "EmailLambdasProcessComplaintFunctionServiceRoleDefaultPolicy6A5431EF": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "DatabaseRsvpTableA1E8C671",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "DatabaseRsvpTableA1E8C671",
             "Arn"
            ]
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "sqs:ChangeMessageVisibility",
        "sqs:DeleteMessage",
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl",
        "sqs:ReceiveMessage"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "EmailInfrastructureComplaintQueue1972F484",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "EmailLambdasProcessComplaintFunctionServiceRoleDefaultPolicy6A5431EF",
    "Roles": [
     {
      "Ref": "EmailLambdasProcessComplaintFunctionServiceRoleF45357CF"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "EmailLambdasProcessComplaintFunction6DE1A6E7": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "79a488f828d3a7ccb662b18ee6b828266f0828a69b437d93ed3ab40a1866dc37.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "DatabaseRsvpTableA1E8C671"
      },
      "SOURCE_EMAIL": "noreply@wedding.himnher.dev",
      "CONFIGURATION_SET": "wedding-rsvp-production",
      "WEBSITE_URL": "https://wedding.himnher.dev",
      "ENVIRONMENT": "production"
     }
    },
    "FunctionName": "wedding-process-complaint-production",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "EmailLambdasProcessComplaintLogsB87A6220"
     }
    },
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "EmailLambdasProcessComplaintFunctionServiceRoleF45357CF",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "Timeout": 60
   },
   "DependsOn": [
    "EmailLambdasProcessComplaintFunctionServiceRoleDefaultPolicy6A5431EF",
    "EmailLambdasProcessComplaintFunctionServiceRoleF45357CF"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/Resource",
    "aws:asset:path": "asset.79a488f828d3a7ccb662b18ee6b828266f0828a69b437d93ed3ab40a1866dc37",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "EmailLambdasProcessComplaintFunctionSqsEventSourceRsvpBackendStackEmailInfrastructureComplaintQueueB1DDA508D3FBA703": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "BatchSize": 10,
    "EventSourceArn": {
     "Fn::GetAtt": [
      "EmailInfrastructureComplaintQueue1972F484",
      "Arn"
     ]
    },
    "FunctionName": {
     "Ref": "EmailLambdasProcessComplaintFunction6DE1A6E7"
    },
    "FunctionResponseTypes": [
     "ReportBatchItemFailures"
    ],
    "MaximumBatchingWindowInSeconds": 5,
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/SqsEventSource:RsvpBackendStackEmailInfrastructureComplaintQueueB1DDA508/Resource"
   }
  },
  "EmailStreamProcessorStreamProcessorLogs034917B3": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 30,
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailStreamProcessor/StreamProcessorLogs/Resource"
   }
  },
  "EmailStreamProcessorStreamProcessorFunctionServiceRole4F5FCF10": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction/ServiceRole/Resource"
   }
  },
  "EmailStreamProcessorStreamProcessorFunctionServiceRoleDefaultPolicyD3BB43B5": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": "dynamodb:ListStreams",
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "dynamodb:DescribeStream",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "DatabaseRsvpTableA1E8C671",
         "StreamArn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "EmailStreamProcessorStreamProcessorFunctionServiceRoleDefaultPolicyD3BB43B5",
    "Roles": [
     {
      "Ref": "EmailStreamProcessorStreamProcessorFunctionServiceRole4F5FCF10"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "EmailStreamProcessorStreamProcessorFunctionDA449B9F": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "534a06823e60e1c9477992e21790739e1444fcca09d0a596e54aa6879985b879.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "DatabaseRsvpTableA1E8C671"
      },
      "SOURCE_EMAIL": "noreply@wedding.himnher.dev",
      "WEBSITE_URL": "https://wedding.himnher.dev",
      "ENVIRONMENT": "production"
     }
    },
    "FunctionName": "wedding-stream-processor-production",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "EmailStreamProcessorStreamProcessorLogs034917B3"
     }
    },
    "MemorySize": 512,
    "Role": {
     "Fn::GetAtt": [
      "EmailStreamProcessorStreamProcessorFunctionServiceRole4F5FCF10",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "Timeout": 60
   },
   "DependsOn": [
    "EmailStreamProcessorStreamProcessorFunctionServiceRoleDefaultPolicyD3BB43B5",
    "EmailStreamProcessorStreamProcessorFunctionServiceRole4F5FCF10"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction/Resource",
    "aws:asset:path": "asset.534a06823e60e1c9477992e21790739e1444fcca09d0a596e54aa6879985b879",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "EmailStreamProcessorPipeRole6A3C62F9": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "pipes.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "Policies": [
     {
      "PolicyDocument": {
       "Statement": [
        {
         "Action": [
          "dynamodb:DescribeStream",
          "dynamodb:GetRecords",
          "dynamodb:GetShardIterator",
          "dynamodb:ListStreams"
         ],
         "Effect": "Allow",
         "Resource": {
          "Fn::GetAtt": [
           "DatabaseRsvpTableA1E8C671",
           "StreamArn"
          ]
         }
        },
        {
         "Action": "lambda:InvokeFunction",
         "Effect": "Allow",
         "Resource": {
          "Fn::GetAtt": [
           "EmailStreamProcessorStreamProcessorFunctionDA449B9F",
           "Arn"
          ]
         }
        },
        {
         "Action": "sqs:SendMessage",
         "Effect": "Allow",
         "Resource": {
          "Fn::GetAtt": [
           "EmailInfrastructureEmailQueue5311AA87",
           "Arn"
          ]
         }
        }
       ],
       "Version": "2012-10-17"
      },
      "PolicyName": "PipePolicy"
     }
    ],
    "Tags": [
     {
      "Key": "Component",
      "Value": "Backend"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailStreamProcessor/PipeRole/Resource"
   }
  },
  "EmailStreamProcessorEmailPipe506E654E": {
   "Type": "AWS::Pipes::Pipe",
   "Properties": {
    "Enrichment": {
     "Fn::GetAtt": [
      "EmailStreamProcessorStreamProcessorFunctionDA449B9F",
      "Arn"
     ]
    },
    "Name": "wedding-email-pipe-production",
    "RoleArn": {
     "Fn::GetAtt": [
      "EmailStreamProcessorPipeRole6A3C62F9",
      "Arn"
     ]
    },
    "Source": {
     "Fn::GetAtt": [
      "DatabaseRsvpTableA1E8C671",
      "StreamArn"
     ]
    },
    "SourceParameters": {
     "DynamoDBStreamParameters": {
      "BatchSize": 10,
      "MaximumBatchingWindowInSeconds": 5,
      "StartingPosition": "LATEST"
     },
     "FilterCriteria": {
      "Filters": [
       {
        "Pattern": "{\"eventName\":[\"INSERT\",\"MODIFY\"],\"dynamodb\":{\"Keys\":{\"SK\":{\"S\":[{\"prefix\":\"RSVP#\"}]}}}}"
       }
      ]
     }
    },
    "Tags": {
     "Component": "Backend",
     "Environment": "production",
     "ManagedBy": "CDK",
     "Project": "WeddingWebsite"
    },
    "Target": {
     "Fn::GetAtt": [
      "EmailInfrastructureEmailQueue5311AA87",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/EmailStreamProcessor/EmailPipe"
   }
  },
  "ApiLambdaExecutionRole807E4FD5": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/LambdaExecutionRole/Resource"
   }
  },
  "ApiLambdaExecutionRoleDefaultPolicy51F2E455": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:BatchWriteItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:PutItem",
        "dynamodb:Query",
        "dynamodb:Scan",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "DatabaseRsvpTableA1E8C671",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "DatabaseRsvpTableA1E8C671",
             "Arn"
            ]
           },
           "/index/*"
          ]
         ]
        }
       ]
      },
      {
       "Action": [
        "xray:PutTelemetryRecords",
        "xray:PutTraceSegments"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "ssm:DescribeParameters",
        "ssm:GetParameter",
        "ssm:GetParameterHistory",
        "ssm:GetParameters"
       ],
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:ssm:us-east-1:",
           {
            "Ref": "AWS::AccountId"
           },
           ":parameter",
           {
            "Ref": "AuthInfrastructureJWTPrivateKey4134C097"
           }
          ]
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           "arn:aws:ssm:us-east-1:",
           {
            "Ref": "AWS::AccountId"
           },
           ":parameter",
           {
            "Ref": "AuthInfrastructureJWTPublicKey86A54DEC"
           }
          ]
         ]
        }
       ]
      },
      {
       "Action": "kms:Decrypt",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "AuthInfrastructureAuthParameterKeyC648EFAB",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "ApiLambdaExecutionRoleDefaultPolicy51F2E455",
    "Roles": [
     {
      "Ref": "ApiLambdaExecutionRole807E4FD5"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/LambdaExecutionRole/DefaultPolicy/Resource"
   }
  },
  "ApiCreateRSVPLogsA7B5D752": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 30,
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/CreateRSVPLogs/Resource"
   }
  },
  "ApiCreateRSVPFunctionD291B05C": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "bce0ac9d7bbc56f928c41e9776e51e086e1d1bee2a762b50d732fe1433bda7f3.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "DatabaseRsvpTableA1E8C671"
      },
      "REGION": "us-east-1",
      "STAGE": "production",
      "LOG_LEVEL": "INFO"
     }
    },
    "FunctionName": "wedding-create-rsvp-production",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "ApiCreateRSVPLogsA7B5D752"
     }
    },
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "ApiLambdaExecutionRole807E4FD5",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "Timeout": 30,
    "TracingConfig": {
     "Mode": "Active"
    }
   },
   "DependsOn": [
    "ApiLambdaExecutionRoleDefaultPolicy51F2E455",
    "ApiLambdaExecutionRole807E4FD5"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/CreateRSVPFunction/Resource",
    "aws:asset:path": "asset.bce0ac9d7bbc56f928c41e9776e51e086e1d1bee2a762b50d732fe1433bda7f3",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "ApiGetRSVPLogs5876A655": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 30,
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/GetRSVPLogs/Resource"
   }
  },
  "ApiGetRSVPFunction4A628E81": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "178dca137de80354749bccbad1be7c8f3efd106a919c62d7ba9d8243fc718bb4.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "DatabaseRsvpTableA1E8C671"
      },
      "REGION": "us-east-1",
      "STAGE": "production",
      "LOG_LEVEL": "INFO"
     }
    },
    "FunctionName": "wedding-get-rsvp-production",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "ApiGetRSVPLogs5876A655"
     }
    },
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "ApiLambdaExecutionRole807E4FD5",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "Timeout": 30,
    "TracingConfig": {
     "Mode": "Active"
    }
   },
   "DependsOn": [
    "ApiLambdaExecutionRoleDefaultPolicy51F2E455",
    "ApiLambdaExecutionRole807E4FD5"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/GetRSVPFunction/Resource",
    "aws:asset:path": "asset.178dca137de80354749bccbad1be7c8f3efd106a919c62d7ba9d8243fc718bb4",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "ApiUpdateRSVPLogsD7823710": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 30,
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/UpdateRSVPLogs/Resource"
   }
  },
  "ApiUpdateRSVPFunction1593C95E": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "d24f5453b04307957d9c82934a1c98f1d83be5324e4931e0fa22b6eedd46b6c9.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "DatabaseRsvpTableA1E8C671"
      },
      "REGION": "us-east-1",
      "STAGE": "production",
      "LOG_LEVEL": "INFO"
     }
    },
    "FunctionName": "wedding-update-rsvp-production",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "ApiUpdateRSVPLogsD7823710"
     }
    },
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "ApiLambdaExecutionRole807E4FD5",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "Timeout": 30,
    "TracingConfig": {
     "Mode": "Active"
    }
   },
   "DependsOn": [
    "ApiLambdaExecutionRoleDefaultPolicy51F2E455",
    "ApiLambdaExecutionRole807E4FD5"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/UpdateRSVPFunction/Resource",
    "aws:asset:path": "asset.d24f5453b04307957d9c82934a1c98f1d83be5324e4931e0fa22b6eedd46b6c9",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "ApiListRSVPsLogs595876DE": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 30,
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/ListRSVPsLogs/Resource"
   }
  },
  "ApiListRSVPsFunction7050ABE0": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "6dd71f22d1814c42c8d759b26caa176ecb665ebcdbfb93fb1ca5cb79106f45b2.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "DatabaseRsvpTableA1E8C671"
      },
      "REGION": "us-east-1",
      "STAGE": "production",
      "LOG_LEVEL": "INFO"
     }
    },
    "FunctionName": "wedding-list-rsvps-production",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "ApiListRSVPsLogs595876DE"
     }
    },
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "ApiLambdaExecutionRole807E4FD5",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "Timeout": 30,
    "TracingConfig": {
     "Mode": "Active"
    }
   },
   "DependsOn": [
    "ApiLambdaExecutionRoleDefaultPolicy51F2E455",
    "ApiLambdaExecutionRole807E4FD5"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/ListRSVPsFunction/Resource",
    "aws:asset:path": "asset.6dd71f22d1814c42c8d759b26caa176ecb665ebcdbfb93fb1ca5cb79106f45b2",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "ApiValidateInvitationLogsF76E078B": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 30,
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/ValidateInvitationLogs/Resource"
   }
  },
  "ApiValidateInvitationFunction2611D1F2": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"
     },
     "S3Key": "e59ad93b54218711fb644d67924c38636763dfce3838371424d580998f41967a.zip"
    },
    "Environment": {
     "Variables": {
      "TABLE_NAME": {
       "Ref": "DatabaseRsvpTableA1E8C671"
      },
      "REGION": "us-east-1",
      "STAGE": "production",
      "LOG_LEVEL": "INFO"
     }
    },
    "FunctionName": "wedding-validate-invitation-production",
    "Handler": "index.handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "ApiValidateInvitationLogsF76E078B"
     }
    },
    "MemorySize": 256,
    "Role": {
     "Fn::GetAtt": [
      "ApiLambdaExecutionRole807E4FD5",
      "Arn"
     ]
    },
    "Runtime": "nodejs20.x",
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "Timeout": 30,
    "TracingConfig": {
     "Mode": "Active"
    }
   },
   "DependsOn": [
    "ApiLambdaExecutionRoleDefaultPolicy51F2E455",
    "ApiLambdaExecutionRole807E4FD5"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/ValidateInvitationFunction/Resource",
    "aws:asset:path": "asset.e59ad93b54218711fb644d67924c38636763dfce3838371424d580998f41967a",
    "aws:asset:is-bundled": true,
    "aws:asset:property": "Code"
   }
  },
  "ApiRsvpApi6D08E9BA": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "Description": "REST API for wedding RSVP system",
    "Name": "wedding-rsvp-api-production",
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Resource"
   }
  },
  "ApiRsvpApiCloudWatchRole554BDB75": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "apigateway.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
       ]
      ]
     }
    ],
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/CloudWatchRole/Resource"
   }
  },
  "ApiRsvpApiAccountD270AA97": {
   "Type": "AWS::ApiGateway::Account",
   "Properties": {
    "CloudWatchRoleArn": {
     "Fn::GetAtt": [
      "ApiRsvpApiCloudWatchRole554BDB75",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "ApiRsvpApi6D08E9BA"
   ],
   "UpdateReplacePolicy": "Retain",
   "DeletionPolicy": "Retain",
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Account"
   }
  },
  "ApiRsvpApiDeploymentDDA67C6B0001a071b4769002c17774ecbc5e6e55": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "REST API for wedding RSVP system",
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "DependsOn": [
    "ApiRsvpApiOPTIONS1EA5DF75",
    "ApiRsvpApirsvprsvpIdGETF08DDA04",
    "ApiRsvpApirsvprsvpIdOPTIONSB5013AB7",
    "ApiRsvpApirsvprsvpIdPUT62D713E7",
    "ApiRsvpApirsvprsvpIdE87DAB1D",
    "ApiRsvpApirsvpGET45A89407",
    "ApiRsvpApirsvpOPTIONSC2C071E3",
    "ApiRsvpApirsvpPOST620C9B30",
    "ApiRsvpApirsvpC75ABA40",
    "ApiRsvpApirsvpvalidateOPTIONSADB344B9",
    "ApiRsvpApirsvpvalidatePOST6E7F7CAF",
    "ApiRsvpApirsvpvalidateC1264089"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Deployment/Resource",
    "aws:cdk:do-not-refactor": true
   }
  },
  "ApiRsvpApiDeploymentStageproduction8243A767": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "DeploymentId": {
     "Ref": "ApiRsvpApiDeploymentDDA67C6B0001a071b4769002c17774ecbc5e6e55"
    },
    "MethodSettings": [
     {
      "DataTraceEnabled": true,
      "HttpMethod": "*",
      "LoggingLevel": "INFO",
      "MetricsEnabled": true,
      "ResourcePath": "/*"
     }
    ],
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    },
    "StageName": "production",
    "Tags": [
     {
      "Key": "Component",
      "Value": "RSVP-API"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "DependsOn": [
    "ApiRsvpApiAccountD270AA97"
   ],
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/DeploymentStage.production/Resource"
   }
  },
  "ApiRsvpApiOPTIONS1EA5DF75": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'https://wedding.himnher.dev'",
        "method.response.header.Vary": "'Origin'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "ResponseTemplates": {
        "application/json": "#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.wedding.himnher.dev\" || $origin == \"https://api.wedding.himnher.dev\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Vary": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Fn::GetAtt": [
      "ApiRsvpApi6D08E9BA",
      "RootResourceId"
     ]
    },
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/OPTIONS/Resource"
   }
  },
  "ApiRsvpApirsvpC75ABA40": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "ApiRsvpApi6D08E9BA",
      "RootResourceId"
     ]
    },
    "PathPart": "rsvp",
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/Resource"
   }
  },
  "ApiRsvpApirsvpOPTIONSC2C071E3": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'https://wedding.himnher.dev'",
        "method.response.header.Vary": "'Origin'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "ResponseTemplates": {
        "application/json": "#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.wedding.himnher.dev\" || $origin == \"https://api.wedding.himnher.dev\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Vary": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ApiRsvpApirsvpC75ABA40"
    },
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/OPTIONS/Resource"
   }
  },
  "ApiRsvpApirsvpPOSTApiPermissionRsvpBackendStackApiRsvpApi94F5ACF9POSTrsvp566AF2D8": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApiCreateRSVPFunctionD291B05C",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "ApiRsvpApi6D08E9BA"
       },
       "/",
       {
        "Ref": "ApiRsvpApiDeploymentStageproduction8243A767"
       },
       "/POST/rsvp"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/POST/ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp"
   }
  },
  "ApiRsvpApirsvpPOSTApiPermissionTestRsvpBackendStackApiRsvpApi94F5ACF9POSTrsvp52134BA1": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApiCreateRSVPFunctionD291B05C",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "ApiRsvpApi6D08E9BA"
       },
       "/test-invoke-stage/POST/rsvp"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/POST/ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp"
   }
  },
  "ApiRsvpApirsvpPOST620C9B30": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ApiCreateRSVPFunctionD291B05C",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ApiRsvpApirsvpC75ABA40"
    },
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/POST/Resource"
   }
  },
  "ApiRsvpApirsvpGETApiPermissionRsvpBackendStackApiRsvpApi94F5ACF9GETrsvp898AFE04": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApiListRSVPsFunction7050ABE0",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "ApiRsvpApi6D08E9BA"
       },
       "/",
       {
        "Ref": "ApiRsvpApiDeploymentStageproduction8243A767"
       },
       "/GET/rsvp"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/GET/ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp"
   }
  },
  "ApiRsvpApirsvpGETApiPermissionTestRsvpBackendStackApiRsvpApi94F5ACF9GETrsvp3166A8CB": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApiListRSVPsFunction7050ABE0",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "ApiRsvpApi6D08E9BA"
       },
       "/test-invoke-stage/GET/rsvp"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/GET/ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp"
   }
  },
  "ApiRsvpApirsvpGET45A89407": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ApiListRSVPsFunction7050ABE0",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ApiRsvpApirsvpC75ABA40"
    },
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/GET/Resource"
   }
  },
  "ApiRsvpApirsvpvalidateC1264089": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ApiRsvpApirsvpC75ABA40"
    },
    "PathPart": "validate",
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate/Resource"
   }
  },
  "ApiRsvpApirsvpvalidateOPTIONSADB344B9": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'https://wedding.himnher.dev'",
        "method.response.header.Vary": "'Origin'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "ResponseTemplates": {
        "application/json": "#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.wedding.himnher.dev\" || $origin == \"https://api.wedding.himnher.dev\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Vary": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ApiRsvpApirsvpvalidateC1264089"
    },
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate/OPTIONS/Resource"
   }
  },
  "ApiRsvpApirsvpvalidatePOSTApiPermissionRsvpBackendStackApiRsvpApi94F5ACF9POSTrsvpvalidate485F9608": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApiValidateInvitationFunction2611D1F2",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "ApiRsvpApi6D08E9BA"
       },
       "/",
       {
        "Ref": "ApiRsvpApiDeploymentStageproduction8243A767"
       },
       "/POST/rsvp/validate"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate/POST/ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp.validate"
   }
  },
  "ApiRsvpApirsvpvalidatePOSTApiPermissionTestRsvpBackendStackApiRsvpApi94F5ACF9POSTrsvpvalidate108E82FA": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApiValidateInvitationFunction2611D1F2",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "ApiRsvpApi6D08E9BA"
       },
       "/test-invoke-stage/POST/rsvp/validate"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate/POST/ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp.validate"
   }
  },
  "ApiRsvpApirsvpvalidatePOST6E7F7CAF": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ApiValidateInvitationFunction2611D1F2",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ApiRsvpApirsvpvalidateC1264089"
    },
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate/POST/Resource"
   }
  },
  "ApiRsvpApirsvprsvpIdE87DAB1D": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "ApiRsvpApirsvpC75ABA40"
    },
    "PathPart": "{rsvpId}",
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/Resource"
   }
  },
  "ApiRsvpApirsvprsvpIdOPTIONSB5013AB7": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "ApiKeyRequired": false,
    "AuthorizationType": "NONE",
    "HttpMethod": "OPTIONS",
    "Integration": {
     "IntegrationResponses": [
      {
       "ResponseParameters": {
        "method.response.header.Access-Control-Allow-Headers": "'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'",
        "method.response.header.Access-Control-Allow-Origin": "'https://wedding.himnher.dev'",
        "method.response.header.Vary": "'Origin'",
        "method.response.header.Access-Control-Allow-Methods": "'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"
       },
       "ResponseTemplates": {
        "application/json": "#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.wedding.himnher.dev\" || $origin == \"https://api.wedding.himnher.dev\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"
       },
       "StatusCode": "204"
      }
     ],
     "RequestTemplates": {
      "application/json": "{ statusCode: 200 }"
     },
     "Type": "MOCK"
    },
    "MethodResponses": [
     {
      "ResponseParameters": {
       "method.response.header.Access-Control-Allow-Headers": true,
       "method.response.header.Access-Control-Allow-Origin": true,
       "method.response.header.Vary": true,
       "method.response.header.Access-Control-Allow-Methods": true
      },
      "StatusCode": "204"
     }
    ],
    "ResourceId": {
     "Ref": "ApiRsvpApirsvprsvpIdE87DAB1D"
    },
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/OPTIONS/Resource"
   }
  },
  "ApiRsvpApirsvprsvpIdGETApiPermissionRsvpBackendStackApiRsvpApi94F5ACF9GETrsvprsvpIdABDE55C9": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApiGetRSVPFunction4A628E81",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "ApiRsvpApi6D08E9BA"
       },
       "/",
       {
        "Ref": "ApiRsvpApiDeploymentStageproduction8243A767"
       },
       "/GET/rsvp/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/GET/ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp.{rsvpId}"
   }
  },
  "ApiRsvpApirsvprsvpIdGETApiPermissionTestRsvpBackendStackApiRsvpApi94F5ACF9GETrsvprsvpId8EA7CF73": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApiGetRSVPFunction4A628E81",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "ApiRsvpApi6D08E9BA"
       },
       "/test-invoke-stage/GET/rsvp/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/GET/ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp.{rsvpId}"
   }
  },
  "ApiRsvpApirsvprsvpIdGETF08DDA04": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ApiGetRSVPFunction4A628E81",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ApiRsvpApirsvprsvpIdE87DAB1D"
    },
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/GET/Resource"
   }
  },
  "ApiRsvpApirsvprsvpIdPUTApiPermissionRsvpBackendStackApiRsvpApi94F5ACF9PUTrsvprsvpIdBB2FF1E2": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApiUpdateRSVPFunction1593C95E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "ApiRsvpApi6D08E9BA"
       },
       "/",
       {
        "Ref": "ApiRsvpApiDeploymentStageproduction8243A767"
       },
       "/PUT/rsvp/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/PUT/ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.PUT..rsvp.{rsvpId}"
   }
  },
  "ApiRsvpApirsvprsvpIdPUTApiPermissionTestRsvpBackendStackApiRsvpApi94F5ACF9PUTrsvprsvpIdD0C61F8E": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "ApiUpdateRSVPFunction1593C95E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:aws:execute-api:us-east-1:",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "ApiRsvpApi6D08E9BA"
       },
       "/test-invoke-stage/PUT/rsvp/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/PUT/ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.PUT..rsvp.{rsvpId}"
   }
  },
  "ApiRsvpApirsvprsvpIdPUT62D713E7": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "PUT",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "ApiUpdateRSVPFunction1593C95E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "ApiRsvpApirsvprsvpIdE87DAB1D"
    },
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/PUT/Resource"
   }
  },
  "ApiDomainApiCertificateF40FCEA1": {
   "Type": "AWS::CertificateManager::Certificate",
   "Properties": {
    "DomainName": "api.wedding.himnher.dev",
    "DomainValidationOptions": [
     {
      "DomainName": "api.wedding.himnher.dev",
      "HostedZoneId": "Z08237002D3AKVKPC3U13"
     }
    ],
    "Tags": [
     {
      "Key": "Component",
      "Value": "API-Domain"
     },
     {
      "Key": "Domain",
      "Value": "api.wedding.himnher.dev"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Name",
      "Value": "wedding-api-cert-production"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ],
    "ValidationMethod": "DNS"
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/ApiDomain/ApiCertificate/Resource"
   }
  },
  "ApiDomainApiDomainNameF0B5160F": {
   "Type": "AWS::ApiGateway::DomainName",
   "Properties": {
    "DomainName": "api.wedding.himnher.dev",
    "EndpointConfiguration": {
     "Types": [
      "REGIONAL"
     ]
    },
    "RegionalCertificateArn": {
     "Ref": "ApiDomainApiCertificateF40FCEA1"
    },
    "SecurityPolicy": "TLS_1_2",
    "Tags": [
     {
      "Key": "Component",
      "Value": "API-Domain"
     },
     {
      "Key": "Domain",
      "Value": "api.wedding.himnher.dev"
     },
     {
      "Key": "Environment",
      "Value": "production"
     },
     {
      "Key": "ManagedBy",
      "Value": "CDK"
     },
     {
      "Key": "Project",
      "Value": "WeddingWebsite"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/ApiDomain/ApiDomainName/Resource"
   }
  },
  "ApiDomainApiBasePathMapping31BBE887": {
   "Type": "AWS::ApiGateway::BasePathMapping",
   "Properties": {
    "BasePath": "",
    "DomainName": {
     "Ref": "ApiDomainApiDomainNameF0B5160F"
    },
    "RestApiId": {
     "Ref": "ApiRsvpApi6D08E9BA"
    },
    "Stage": {
     "Ref": "ApiRsvpApiDeploymentStageproduction8243A767"
    }
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/ApiDomain/ApiBasePathMapping/Resource"
   }
  },
  "ApiDomainApiAliasRecordC4E1B074": {
   "Type": "AWS::Route53::RecordSet",
   "Properties": {
    "AliasTarget": {
     "DNSName": {
      "Fn::GetAtt": [
       "ApiDomainApiDomainNameF0B5160F",
       "RegionalDomainName"
      ]
     },
     "HostedZoneId": {
      "Fn::GetAtt": [
       "ApiDomainApiDomainNameF0B5160F",
       "RegionalHostedZoneId"
      ]
     }
    },
    "Comment": "API Gateway domain for wedding RSVP API - production",
    "HostedZoneId": "Z08237002D3AKVKPC3U13",
    "Name": "api.wedding.himnher.dev.",
    "Type": "A"
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/ApiDomain/ApiAliasRecord/Resource"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/+0ba2/bOPK3LD8WrK5NccAh3xzHzRl1Hmt7LzgYgUGTY3kailRJKqkq+L8vSD1tp+ljka2TNdBU8nA4b76Go6Po6O3b6M1v7N6+5uL2tcRFVEwc47eU3dt5cZvYqPgA+awgAiw3mDrUihyTV4QSUGwh4QPkY+1YCXcmA0qYRGYrJAOJvmPySkvkOTkmBhxDRdY3tL9UHyCnPY88K8pOFyyBqqNjJgb3AfLwu8QPuGtqbeKlNKjiK2ZYAg7MrCBp/d6hYgPW/5jMasiuHg7BkGMycUwJZgRZ0z2lFWzQaLymIlcs0WIRFVPviVlBnH922KTMOPQkgx0Lojr2zVP/OiFrSqw27nGMBUqJKj7XwoOuev+fXw3G8/Hg9z8Gk2mIBW7yWvje9WR+3rvonQ1OvQwalRuqKSYwBq7vwOSTFDgukVdRUzyEMwjRJcqYWn81kIIpgSXkmFwMrue9i9P55eh0PjzvnQ0mwfxMiDOpF0xOgGtvyXyoBHwmx7OCoH/7cXulRn8E7vGmJbQ3GpH1zcvkNrzoj/44HRBKVOjbc87gInNgq5FZxmUIwTW1YKNikDCUQwHKofNzB1avdajfYjLBWKGK6yljCSAWjN++1+aeGdG0lLQ36NG+VkuMMxOiZwJuVhC+BeqONFCe3GY4BarbdHYID+5AuVOwDlUAPcCoHbw1Uj05+r6WHM/IQmeKQ5gKvWHJDd2hss2oEd/7+CdYcp2kkqH6QWYPWmUbfU2tslEx1SlyP+P4Z8fcAm0qWb6hwTdxygDyWHSSLZp5sCbfrDcizBN1PBvtNNeSHBPw8UEoWaJ0YJop4tUW6Brd6hysZTGcaNFEIzAxAufA/J5BtiX1PrO2n6yPKnZfET4FiX7mbMbUz4hkIG4j6lnKF4KpG0Y0RFZJtA6pMExekZtGmwbQxmLZY03tJxsVgcGsIJ/8sxPLBpyflrS6AoNaNCZ6arw7tLhAiS73i6bO3CP9HzBURbBqTtjnMXDAO+jrrHLl+h/FNXg94NPwfxMtoWs3WjYBbb86WpAlUTHWYTvGrM0SECdhvU0NKo4pkz3OG860wvEderyZzP1+R2/s5BKmWAwicMHAv9iA5T2j6vgnqCQqaHGrGPor4vwA/2pjMtVXNYt6jM+KqtU5xlfDVsq8Y+DHGx+n+3jri1f/oOBBwZer4GFWO7QeWvd1xUtTmY83czSzOklT7ZM8E1rtrDzvelRMtW/ZGSy7YCEmjjlIqnNua4PvBj812wP9X0v/AH5+4DKtXR2fpI5tVIx0fGZ0ls6K9pBHjt+92U0D+zSY0XnYCRxQfy1qcGTtujWVLFkINldawEcbXYTH+0zxKrW3rF67yY9MOWx+rZgSMlyBlHkmZ+okkNtIAySQaJNP8As0qHdotPIxVkFkJVT1c5EpIUOOuSDw2YFRTJ5rkUmor60SVLhsMlVWZ4bDOUub2wheXoSEHejWv+es2DMX/1G/PHPdnrn4hyGzn+If/LKf4n/dL89Zq6cV34Rzw/dp4gzjQRHij7138B3K/RqfPLVSz1v6g0v2TvqDS/ZO+oNL9k76l+mSG2rfzZm14GzU8w9q30UnGb8Fd8IszG6qpEBU9JeqzgXQUGI0qbcKKao4lDL6+s9638EcX3UUSdjnEw9CFV+jEvq+hfe14pkxoHhbMpJq4wL+0EHynqHMjBe53KNAXRlW2qWVpU5w12UpduPXoFvxWFrbGeS2rJ+qHXtQY3/UKEsJd2ItZB/BJGhtKG9LMQUbeSCmQFmKMXNwz/KoGIN1vRRDUjK8dWvadsp3BSxZJl1fG3tlYCkxXrnLgGD9AGJS6vtLgzGqWpUAOge30mID9F9golZ47QmnUucdUtaxuFsrInUco4pHcAcyFHC+v/TyMMemhnHYKIVsLLVdb8ulzsS1d1OZjm/rJiszhILs8iqJngaR/GTyYKU4S7Hxvr8QatE717j+JmukY+RMDsXWDdc/HR7s3lqNTrzHg6lrUGXfJwiFsp7O06VjKA90YS731zO0jNZyRISmeolyLi3bKgAqB7HplqvqzljI3Eob/OLXtO6vYd27BrFOXXIYCyxF/wECfMrQeImXTFr4Gn5QcKXFGGyqla0uNa1jLrP9ejX2MVo2N5X2TaFz5Z/zDSo/SoQejPV3GauaWn4phYPDDuZ+ueZu9lVlh2aFKD/HatellLnVFTOu4fnTrfUWJLChpzphGE5KfjVsflQ9ORhXfmfUHnvKavXKjePB2fDyojcK34nwzKDLm2vN6Wgyfzs/qji2jKhf/a6YW7VnlR3G1f6w2S+XHToKbNFY046oZZWNiYp+C/uGdt1iaSZRtL6qPupoUdfU6MzBv99FRc9/a2X86v1Fq1Z0D9v5EK/mqZNmt+Ed9XMdKx96/Am49boNm4D77b9A4DJzaeZoOGf6/Umwo79tjj7af90dHUVv/xO9+e2jRXxdnZ+jcfn8EwJmwu73OAAA"
   },
   "Metadata": {
    "aws:cdk:path": "RsvpBackendStack/CDKMetadata/Default"
   }
  }
 },
 "Outputs": {
  "EmailInfrastructureConfigurationSetNameC3CDD85B": {
   "Description": "SES Configuration Set Name",
   "Value": {
    "Ref": "EmailInfrastructureConfigurationSet32710208"
   }
  },
  "EmailInfrastructureVerifiedDomainB20A8B6B": {
   "Description": "SES Verified Domain",
   "Value": "wedding.himnher.dev"
  },
  "EmailInfrastructureDKIMRecord1473384A7": {
   "Description": "DKIM CNAME Record 1",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "EmailInfrastructureDomainIdentity62470D7F",
        "DkimDNSTokenName1"
       ]
      },
      " = ",
      {
       "Fn::GetAtt": [
        "EmailInfrastructureDomainIdentity62470D7F",
        "DkimDNSTokenValue1"
       ]
      }
     ]
    ]
   }
  },
  "EmailInfrastructureDKIMRecord243A79DB4": {
   "Description": "DKIM CNAME Record 2",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "EmailInfrastructureDomainIdentity62470D7F",
        "DkimDNSTokenName2"
       ]
      },
      " = ",
      {
       "Fn::GetAtt": [
        "EmailInfrastructureDomainIdentity62470D7F",
        "DkimDNSTokenValue2"
       ]
      }
     ]
    ]
   }
  },
  "EmailInfrastructureDKIMRecord3E0254688": {
   "Description": "DKIM CNAME Record 3",
   "Value": {
    "Fn::Join": [
     "",
     [
      {
       "Fn::GetAtt": [
        "EmailInfrastructureDomainIdentity62470D7F",
        "DkimDNSTokenName3"
       ]
      },
      " = ",
      {
       "Fn::GetAtt": [
        "EmailInfrastructureDomainIdentity62470D7F",
        "DkimDNSTokenValue3"
       ]
      }
     ]
    ]
   }
  },
  "EmailLambdasSendEmailFunctionArnCE0E3D1E": {
   "Description": "Send Email Lambda Function ARN",
   "Value": {
    "Fn::GetAtt": [
     "EmailLambdasSendEmailFunctionB67F7821",
     "Arn"
    ]
   }
  },
  "EmailLambdasProcessEmailQueueFunctionArn5291CA30": {
   "Description": "Process Email Queue Lambda Function ARN",
   "Value": {
    "Fn::GetAtt": [
     "EmailLambdasProcessEmailQueueFunctionED1A6970",
     "Arn"
    ]
   }
  },
  "EmailStreamProcessorPipeArn02124ACE": {
   "Description": "EventBridge Pipe ARN",
   "Value": {
    "Fn::GetAtt": [
     "EmailStreamProcessorEmailPipe506E654E",
     "Arn"
    ]
   }
  },
  "ApiRsvpApiEndpoint827A183A": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "ApiRsvpApi6D08E9BA"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "ApiRsvpApiDeploymentStageproduction8243A767"
      },
      "/"
     ]
    ]
   }
  },
  "ApiDomainApiDomainUrl95FC6132": {
   "Description": "Custom domain URL for the RSVP API",
   "Value": "https://api.wedding.himnher.dev"
  },
  "ApiDomainApiGatewayDomainName05F6207C": {
   "Description": "API Gateway domain name (CloudFront distribution)",
   "Value": {
    "Fn::GetAtt": [
     "ApiDomainApiDomainNameF0B5160F",
     "RegionalDomainName"
    ]
   }
  },
  "ApiEndpoint": {
   "Description": "RSVP API Gateway endpoint URL",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "ApiRsvpApi6D08E9BA"
      },
      ".execute-api.us-east-1.",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "ApiRsvpApiDeploymentStageproduction8243A767"
      },
      "/"
     ]
    ]
   },
   "Export": {
    "Name": "RsvpBackendStack-ApiEndpoint"
   }
  },
  "TableName": {
   "Description": "DynamoDB table name for RSVP data",
   "Value": {
    "Ref": "DatabaseRsvpTableA1E8C671"
   },
   "Export": {
    "Name": "RsvpBackendStack-TableName"
   }
  },
  "TableArn": {
   "Description": "DynamoDB table ARN",
   "Value": {
    "Fn::GetAtt": [
     "DatabaseRsvpTableA1E8C671",
     "Arn"
    ]
   },
   "Export": {
    "Name": "RsvpBackendStack-TableArn"
   }
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}