{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.211.0"},"children":{"WeddingWebsiteCdkStack":{"id":"WeddingWebsiteCdkStack","path":"WeddingWebsiteCdkStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"WeddingWebsite":{"id":"WeddingWebsite","path":"WeddingWebsiteCdkStack/WeddingWebsite","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"WebsiteBucket":{"id":"WebsiteBucket","path":"WeddingWebsiteCdkStack/WeddingWebsite/WebsiteBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[{"bucketName":"*","publicReadAccess":false,"blockPublicAccess":"*","versioned":true,"removalPolicy":"destroy","autoDeleteObjects":true,"lifecycleRules":[{"id":"*","enabled":true,"noncurrentVersionTransitions":[{"storageClass":"*"}]},{"id":"*","enabled":true,"abortIncompleteMultipartUploadAfter":"*"}],"cors":[{"allowedMethods":["GET","HEAD"],"allowedOrigins":"*","allowedHeaders":"*","maxAge":"*"}]},{"addCorsRule":[{"allowedMethods":["GET","HEAD"],"allowedOrigins":"*","allowedHeaders":"*","maxAge":"*"},"*","*"]},{"addLifecycleRule":[{"id":"*","enabled":true,"noncurrentVersionTransitions":[{"storageClass":"*"}]},"*","*"]},{"addLifecycleRule":[{"id":"*","enabled":true,"abortIncompleteMultipartUploadAfter":"*"},"*","*"]}]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/WeddingWebsite/WebsiteBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketName":{"Fn::Join":["",["wedding-website-",{"Ref":"AWS::AccountId"},"-us-east-1"]]},"corsConfiguration":{"corsRules":[{"maxAge":3600,"allowedHeaders":["*"],"allowedMethods":["GET","HEAD"],"allowedOrigins":["*"]}]},"lifecycleConfiguration":{"rules":[{"id":"TransitionNonCurrentVersions","noncurrentVersionExpiration":{"noncurrentDays":90},"noncurrentVersionTransitions":[{"storageClass":"GLACIER","transitionInDays":30}],"status":"Enabled"},{"abortIncompleteMultipartUpload":{"daysAfterInitiation":7},"id":"CleanupIncompleteMultipartUploads","status":"Enabled"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":true,"ignorePublicAcls":true,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"versioningConfiguration":{"status":"Enabled"}}}},"Policy":{"id":"Policy","path":"WeddingWebsiteCdkStack/WeddingWebsite/WebsiteBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.211.0","metadata":[{"bucket":"*"}]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/WeddingWebsite/WebsiteBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"WeddingWebsiteWebsiteBucketFC675D05"},"policyDocument":{"Statement":[{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["WeddingWebsiteWebsiteBucketFC675D05","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["WeddingWebsiteWebsiteBucketFC675D05","Arn"]},"/*"]]}]},{"Action":"s3:GetObject","Condition":{"StringEquals":{"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":cloudfront::",{"Ref":"AWS::AccountId"},":distribution/",{"Ref":"CloudFrontDistributionEAB06B35"}]]}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["WeddingWebsiteWebsiteBucketFC675D05","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"WeddingWebsiteCdkStack/WeddingWebsite/WebsiteBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"WeddingWebsiteCdkStack/WeddingWebsite/WebsiteBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"BucketName":{"id":"BucketName","path":"WeddingWebsiteCdkStack/WeddingWebsite/BucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"WebsiteEndpointUrl":{"id":"WebsiteEndpointUrl","path":"WeddingWebsiteCdkStack/WeddingWebsite/WebsiteEndpointUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"BucketArn":{"id":"BucketArn","path":"WeddingWebsiteCdkStack/WeddingWebsite/BucketArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"BucketDomainName":{"id":"BucketDomainName","path":"WeddingWebsiteCdkStack/WeddingWebsite/BucketDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"Custom::S3AutoDeleteObjectsCustomResourceProvider":{"id":"Custom::S3AutoDeleteObjectsCustomResourceProvider","path":"WeddingWebsiteCdkStack/Custom::S3AutoDeleteObjectsCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.211.0"},"children":{"Staging":{"id":"Staging","path":"WeddingWebsiteCdkStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"Role":{"id":"Role","path":"WeddingWebsiteCdkStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}},"Handler":{"id":"Handler","path":"WeddingWebsiteCdkStack/Custom::S3AutoDeleteObjectsCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"TempHostedZone":{"id":"TempHostedZone","path":"WeddingWebsiteCdkStack/TempHostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"Certificate":{"id":"Certificate","path":"WeddingWebsiteCdkStack/Certificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.Certificate","version":"2.211.0","metadata":[{"domainName":"*","subjectAlternativeNames":"*","validation":"*"}]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/Certificate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.CfnCertificate","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CertificateManager::Certificate","aws:cdk:cloudformation:props":{"domainName":"wedding.himnher.dev","domainValidationOptions":[{"domainName":"wedding.himnher.dev","hostedZoneId":"Z08237002D3AKVKPC3U13"},{"domainName":"www.wedding.himnher.dev","hostedZoneId":"Z08237002D3AKVKPC3U13"}],"subjectAlternativeNames":["www.wedding.himnher.dev"],"tags":[{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"WeddingWebsiteCdkStack/Certificate"},{"key":"Project","value":"WeddingWebsite"}],"validationMethod":"DNS"}}}}},"CloudFront":{"id":"CloudFront","path":"WeddingWebsiteCdkStack/CloudFront","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CloudFrontLogsBucket":{"id":"CloudFrontLogsBucket","path":"WeddingWebsiteCdkStack/CloudFront/CloudFrontLogsBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.211.0","metadata":[{"removalPolicy":"destroy","autoDeleteObjects":true,"objectOwnership":"BucketOwnerPreferred","blockPublicAccess":"*","encryption":"S3_MANAGED","enforceSSL":true,"lifecycleRules":[{"id":"*","enabled":true}]},{"addLifecycleRule":[{"id":"*","enabled":true},"*","*"]}]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/CloudFront/CloudFrontLogsBucket/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"bucketEncryption":{"serverSideEncryptionConfiguration":[{"serverSideEncryptionByDefault":{"sseAlgorithm":"AES256"}}]},"lifecycleConfiguration":{"rules":[{"expirationInDays":90,"id":"DeleteOldLogs","status":"Enabled"}]},"ownershipControls":{"rules":[{"objectOwnership":"BucketOwnerPreferred"}]},"publicAccessBlockConfiguration":{"blockPublicAcls":false,"blockPublicPolicy":true,"ignorePublicAcls":false,"restrictPublicBuckets":true},"tags":[{"key":"aws-cdk:auto-delete-objects","value":"true"},{"key":"Environment","value":"dev"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"},{"key":"Purpose","value":"CloudFrontLogs"}]}}},"Policy":{"id":"Policy","path":"WeddingWebsiteCdkStack/CloudFront/CloudFrontLogsBucket/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.211.0","metadata":[{"bucket":"*"}]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/CloudFront/CloudFrontLogsBucket/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"CloudFrontCloudFrontLogsBucketCA6FAFB4"},"policyDocument":{"Statement":[{"Action":"s3:*","Condition":{"Bool":{"aws:SecureTransport":"false"}},"Effect":"Deny","Principal":{"AWS":"*"},"Resource":[{"Fn::GetAtt":["CloudFrontCloudFrontLogsBucketCA6FAFB4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["CloudFrontCloudFrontLogsBucketCA6FAFB4","Arn"]},"/*"]]}]},{"Action":["s3:DeleteObject*","s3:GetBucket*","s3:List*","s3:PutBucketPolicy"],"Effect":"Allow","Principal":{"AWS":{"Fn::GetAtt":["CustomS3AutoDeleteObjectsCustomResourceProviderRole3B1BD092","Arn"]}},"Resource":[{"Fn::GetAtt":["CloudFrontCloudFrontLogsBucketCA6FAFB4","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["CloudFrontCloudFrontLogsBucketCA6FAFB4","Arn"]},"/*"]]}]},{"Action":["s3:PutObject","s3:PutObjectAcl"],"Condition":{"StringEquals":{"AWS:SourceAccount":{"Ref":"AWS::AccountId"}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["CloudFrontCloudFrontLogsBucketCA6FAFB4","Arn"]},"/*"]]},"Sid":"AllowCloudFrontLogDelivery"},{"Action":["s3:GetBucketAcl","s3:PutBucketAcl"],"Condition":{"StringEquals":{"AWS:SourceAccount":{"Ref":"AWS::AccountId"}}},"Effect":"Allow","Principal":{"Service":"cloudfront.amazonaws.com"},"Resource":{"Fn::GetAtt":["CloudFrontCloudFrontLogsBucketCA6FAFB4","Arn"]},"Sid":"AllowCloudFrontAclCheck"}],"Version":"2012-10-17"}}}}}},"AutoDeleteObjectsCustomResource":{"id":"AutoDeleteObjectsCustomResource","path":"WeddingWebsiteCdkStack/CloudFront/CloudFrontLogsBucket/AutoDeleteObjectsCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.211.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"WeddingWebsiteCdkStack/CloudFront/CloudFrontLogsBucket/AutoDeleteObjectsCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}}}},"SecurityHeadersPolicy":{"id":"SecurityHeadersPolicy","path":"WeddingWebsiteCdkStack/CloudFront/SecurityHeadersPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.ResponseHeadersPolicy","version":"2.211.0","metadata":[{"comment":"*","securityHeadersBehavior":{"contentTypeOptions":{"override":true},"frameOptions":{"frameOption":"DENY","override":true},"referrerPolicy":{"referrerPolicy":"strict-origin-when-cross-origin","override":true},"strictTransportSecurity":{"accessControlMaxAge":"*","includeSubdomains":true,"preload":true,"override":true},"xssProtection":{"protection":true,"modeBlock":true,"override":true}}}]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/CloudFront/SecurityHeadersPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnResponseHeadersPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::ResponseHeadersPolicy","aws:cdk:cloudformation:props":{"responseHeadersPolicyConfig":{"name":"WeddingWebsiteCdkStackCloudFrontSecurityHeadersPolicy999AA57E","comment":"Security headers policy for wedding website","securityHeadersConfig":{"contentTypeOptions":{"override":true},"frameOptions":{"frameOption":"DENY","override":true},"referrerPolicy":{"referrerPolicy":"strict-origin-when-cross-origin","override":true},"strictTransportSecurity":{"accessControlMaxAge":{"amount":31536000,"unit":{"label":"seconds","isoLabel":"S","inMillis":1000}},"includeSubdomains":true,"preload":true,"override":true,"accessControlMaxAgeSec":31536000},"xssProtection":{"protection":true,"modeBlock":true,"override":true}}}}}}}},"StaticAssetsCachePolicy":{"id":"StaticAssetsCachePolicy","path":"WeddingWebsiteCdkStack/CloudFront/StaticAssetsCachePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CachePolicy","version":"2.211.0","metadata":[{"comment":"*","defaultTtl":"*","maxTtl":"*","minTtl":"*","cookieBehavior":"*","headerBehavior":"*","queryStringBehavior":"*","enableAcceptEncodingGzip":true,"enableAcceptEncodingBrotli":true}]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/CloudFront/StaticAssetsCachePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCachePolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CachePolicy","aws:cdk:cloudformation:props":{"cachePolicyConfig":{"name":"WeddingWebsiteCdkStackCloudFrontStaticAssetsCachePolicyA7A3013E-us-east-1","comment":"Cache policy for static assets with long TTL","minTtl":0,"maxTtl":31536000,"defaultTtl":2592000,"parametersInCacheKeyAndForwardedToOrigin":{"cookiesConfig":{"cookieBehavior":"none"},"headersConfig":{"headerBehavior":"none"},"enableAcceptEncodingGzip":true,"enableAcceptEncodingBrotli":true,"queryStringsConfig":{"queryStringBehavior":"none"}}}}}}}},"ImagesCachePolicy":{"id":"ImagesCachePolicy","path":"WeddingWebsiteCdkStack/CloudFront/ImagesCachePolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CachePolicy","version":"2.211.0","metadata":[{"comment":"*","defaultTtl":"*","maxTtl":"*","minTtl":"*","cookieBehavior":"*","headerBehavior":"*","queryStringBehavior":"*","enableAcceptEncodingGzip":true,"enableAcceptEncodingBrotli":true}]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/CloudFront/ImagesCachePolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnCachePolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::CachePolicy","aws:cdk:cloudformation:props":{"cachePolicyConfig":{"name":"WeddingWebsiteCdkStackCloudFrontImagesCachePolicy1DF23228-us-east-1","comment":"Cache policy for images","minTtl":0,"maxTtl":31536000,"defaultTtl":604800,"parametersInCacheKeyAndForwardedToOrigin":{"cookiesConfig":{"cookieBehavior":"none"},"headersConfig":{"headerBehavior":"none"},"enableAcceptEncodingGzip":true,"enableAcceptEncodingBrotli":true,"queryStringsConfig":{"queryStringBehavior":"none"}}}}}}}},"Distribution":{"id":"Distribution","path":"WeddingWebsiteCdkStack/CloudFront/Distribution","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.Distribution","version":"2.211.0","metadata":[{"comment":"*","domainNames":"*","certificate":"*","defaultBehavior":{"origin":"*","viewerProtocolPolicy":"redirect-to-https","cachePolicy":{"cachePolicyId":"*"},"responseHeadersPolicy":"*","allowedMethods":"*","cachedMethods":"*","compress":true},"additionalBehaviors":"*","errorResponses":[{"httpStatus":"*","responseHttpStatus":"*","responsePagePath":"*","ttl":"*"},{"httpStatus":"*","responseHttpStatus":"*","responsePagePath":"*","ttl":"*"}],"defaultRootObject":"*","minimumProtocolVersion":"TLSv1.2_2021","geoRestriction":"*","enableLogging":true,"logBucket":"*","logFilePrefix":"*","logIncludesCookies":false,"priceClass":"PriceClass_100","enableIpv6":true},{"addBehavior":["*",{},{"viewerProtocolPolicy":"redirect-to-https","cachePolicy":"*","responseHeadersPolicy":"*","compress":true}]},{"addBehavior":["*",{},{"viewerProtocolPolicy":"redirect-to-https","cachePolicy":"*","responseHeadersPolicy":"*","compress":true}]}]},"children":{"Origin1":{"id":"Origin1","path":"WeddingWebsiteCdkStack/CloudFront/Distribution/Origin1","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"S3OriginAccessControl":{"id":"S3OriginAccessControl","path":"WeddingWebsiteCdkStack/CloudFront/Distribution/Origin1/S3OriginAccessControl","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.211.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/CloudFront/Distribution/Origin1/S3OriginAccessControl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"name":"WeddingWebsiteCdkStackCloudFOrigin1S3OriginAccessControlCC1D2070","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}}}},"Origin2":{"id":"Origin2","path":"WeddingWebsiteCdkStack/CloudFront/Distribution/Origin2","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"S3OriginAccessControl":{"id":"S3OriginAccessControl","path":"WeddingWebsiteCdkStack/CloudFront/Distribution/Origin2/S3OriginAccessControl","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.211.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/CloudFront/Distribution/Origin2/S3OriginAccessControl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"name":"WeddingWebsiteCdkStackCloudFOrigin2S3OriginAccessControl5F650ABC","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}}}},"Origin3":{"id":"Origin3","path":"WeddingWebsiteCdkStack/CloudFront/Distribution/Origin3","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"S3OriginAccessControl":{"id":"S3OriginAccessControl","path":"WeddingWebsiteCdkStack/CloudFront/Distribution/Origin3/S3OriginAccessControl","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.S3OriginAccessControl","version":"2.211.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/CloudFront/Distribution/Origin3/S3OriginAccessControl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnOriginAccessControl","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::OriginAccessControl","aws:cdk:cloudformation:props":{"originAccessControlConfig":{"name":"WeddingWebsiteCdkStackCloudFOrigin3S3OriginAccessControl7A341FB6","signingBehavior":"always","signingProtocol":"sigv4","originAccessControlOriginType":"s3"}}}}}}}},"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/CloudFront/Distribution/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cloudfront.CfnDistribution","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CloudFront::Distribution","aws:cdk:cloudformation:props":{"distributionConfig":{"enabled":true,"origins":[{"domainName":{"Fn::GetAtt":["WeddingWebsiteWebsiteBucketFC675D05","RegionalDomainName"]},"id":"WeddingWebsiteCdkStackCloudFrontDistributionOrigin1A7C526A0","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["CloudFrontDistributionOrigin1S3OriginAccessControl3ECDEEE4","Id"]}},{"domainName":{"Fn::GetAtt":["WeddingWebsiteWebsiteBucketFC675D05","RegionalDomainName"]},"id":"WeddingWebsiteCdkStackCloudFrontDistributionOrigin2DB962183","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["CloudFrontDistributionOrigin2S3OriginAccessControlFE6ABE0D","Id"]}},{"domainName":{"Fn::GetAtt":["WeddingWebsiteWebsiteBucketFC675D05","RegionalDomainName"]},"id":"WeddingWebsiteCdkStackCloudFrontDistributionOrigin3C1197F8E","s3OriginConfig":{"originAccessIdentity":""},"originAccessControlId":{"Fn::GetAtt":["CloudFrontDistributionOrigin3S3OriginAccessControl108BB65E","Id"]}}],"defaultCacheBehavior":{"pathPattern":"*","targetOriginId":"WeddingWebsiteCdkStackCloudFrontDistributionOrigin1A7C526A0","allowedMethods":["GET","HEAD","OPTIONS"],"cachedMethods":["GET","HEAD","OPTIONS"],"cachePolicyId":"658327ea-f89d-4fab-a63d-7e88639e58f6","compress":true,"responseHeadersPolicyId":{"Ref":"CloudFrontSecurityHeadersPolicy00F9CE44"},"viewerProtocolPolicy":"redirect-to-https"},"aliases":["wedding.himnher.dev","www.wedding.himnher.dev"],"cacheBehaviors":[{"pathPattern":"/static/*","targetOriginId":"WeddingWebsiteCdkStackCloudFrontDistributionOrigin2DB962183","cachePolicyId":{"Ref":"CloudFrontStaticAssetsCachePolicyC18639E5"},"compress":true,"responseHeadersPolicyId":{"Ref":"CloudFrontSecurityHeadersPolicy00F9CE44"},"viewerProtocolPolicy":"redirect-to-https"},{"pathPattern":"/images/*","targetOriginId":"WeddingWebsiteCdkStackCloudFrontDistributionOrigin3C1197F8E","cachePolicyId":{"Ref":"CloudFrontImagesCachePolicy768E0319"},"compress":true,"responseHeadersPolicyId":{"Ref":"CloudFrontSecurityHeadersPolicy00F9CE44"},"viewerProtocolPolicy":"redirect-to-https"}],"comment":"CloudFront distribution for wedding website","customErrorResponses":[{"errorCachingMinTtl":300,"errorCode":404,"responseCode":200,"responsePagePath":"/index.html"},{"errorCachingMinTtl":300,"errorCode":403,"responseCode":200,"responsePagePath":"/index.html"}],"defaultRootObject":"index.html","httpVersion":"http2","ipv6Enabled":true,"logging":{"bucket":{"Fn::GetAtt":["CloudFrontCloudFrontLogsBucketCA6FAFB4","RegionalDomainName"]},"includeCookies":false,"prefix":"access-logs/"},"priceClass":"PriceClass_100","viewerCertificate":{"acmCertificateArn":{"Ref":"Certificate4E7ABB08"},"minimumProtocolVersion":"TLSv1.2_2021","sslSupportMethod":"sni-only"}},"tags":[{"key":"Environment","value":"Production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}}}},"DnsSetup":{"id":"DnsSetup","path":"WeddingWebsiteCdkStack/DnsSetup","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"HostedZone":{"id":"HostedZone","path":"WeddingWebsiteCdkStack/DnsSetup/HostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"ARecord":{"id":"ARecord","path":"WeddingWebsiteCdkStack/DnsSetup/ARecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.211.0","metadata":[{"zone":"*","recordName":"*","target":"*","comment":"*"},{"zone":"*","recordName":"*","target":"*","comment":"*"}]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/DnsSetup/ARecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["CloudFrontDistributionEAB06B35","DomainName"]}},"comment":"Wedding website CloudFront distribution","hostedZoneId":"Z08237002D3AKVKPC3U13","name":"wedding.himnher.dev.","type":"A"}}}}},"AAAARecord":{"id":"AAAARecord","path":"WeddingWebsiteCdkStack/DnsSetup/AAAARecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.AaaaRecord","version":"2.211.0","metadata":[{"zone":"*","recordName":"*","target":"*","comment":"*"},{"zone":"*","recordName":"*","target":"*","comment":"*"}]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/DnsSetup/AAAARecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["CloudFrontDistributionEAB06B35","DomainName"]}},"comment":"Wedding website CloudFront distribution (IPv6)","hostedZoneId":"Z08237002D3AKVKPC3U13","name":"wedding.himnher.dev.","type":"AAAA"}}}}},"WwwARecord":{"id":"WwwARecord","path":"WeddingWebsiteCdkStack/DnsSetup/WwwARecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.211.0","metadata":[{"zone":"*","recordName":"*","target":"*","comment":"*"},{"zone":"*","recordName":"*","target":"*","comment":"*"}]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/DnsSetup/WwwARecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["CloudFrontDistributionEAB06B35","DomainName"]}},"comment":"Wedding website www subdomain","hostedZoneId":"Z08237002D3AKVKPC3U13","name":"www.wedding.himnher.dev.","type":"A"}}}}},"WwwAAAARecord":{"id":"WwwAAAARecord","path":"WeddingWebsiteCdkStack/DnsSetup/WwwAAAARecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.AaaaRecord","version":"2.211.0","metadata":[{"zone":"*","recordName":"*","target":"*","comment":"*"},{"zone":"*","recordName":"*","target":"*","comment":"*"}]},"children":{"Resource":{"id":"Resource","path":"WeddingWebsiteCdkStack/DnsSetup/WwwAAAARecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"hostedZoneId":{"Fn::FindInMap":["AWSCloudFrontPartitionHostedZoneIdMap",{"Ref":"AWS::Partition"},"zoneId"]},"dnsName":{"Fn::GetAtt":["CloudFrontDistributionEAB06B35","DomainName"]}},"comment":"Wedding website www subdomain (IPv6)","hostedZoneId":"Z08237002D3AKVKPC3U13","name":"www.wedding.himnher.dev.","type":"AAAA"}}}}}}},"AWSCloudFrontPartitionHostedZoneIdMap":{"id":"AWSCloudFrontPartitionHostedZoneIdMap","path":"WeddingWebsiteCdkStack/AWSCloudFrontPartitionHostedZoneIdMap","constructInfo":{"fqn":"aws-cdk-lib.CfnMapping","version":"2.211.0"}},"WebsiteBucketName":{"id":"WebsiteBucketName","path":"WeddingWebsiteCdkStack/WebsiteBucketName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CloudFrontDistributionId":{"id":"CloudFrontDistributionId","path":"WeddingWebsiteCdkStack/CloudFrontDistributionId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CloudFrontDomainName":{"id":"CloudFrontDomainName","path":"WeddingWebsiteCdkStack/CloudFrontDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"WebsiteURL":{"id":"WebsiteURL","path":"WeddingWebsiteCdkStack/WebsiteURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CustomDomain":{"id":"CustomDomain","path":"WeddingWebsiteCdkStack/CustomDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CloudFrontLogsBucket":{"id":"CloudFrontLogsBucket","path":"WeddingWebsiteCdkStack/CloudFrontLogsBucket","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"WeddingWebsiteCdkStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"WeddingWebsiteCdkStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"WeddingWebsiteCdkStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"WeddingWebsiteCdkStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"RsvpBackendStack":{"id":"RsvpBackendStack","path":"RsvpBackendStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.211.0"},"children":{"AuthInfrastructure":{"id":"AuthInfrastructure","path":"RsvpBackendStack/AuthInfrastructure","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"AuthParameterKey":{"id":"AuthParameterKey","path":"RsvpBackendStack/AuthInfrastructure/AuthParameterKey","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Key","version":"2.211.0","metadata":[{"description":"*","enableKeyRotation":true,"alias":"*","removalPolicy":"retain"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/AuthInfrastructure/AuthParameterKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnKey","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Key","aws:cdk:cloudformation:props":{"description":"KMS key for encrypting JWT signing keys - production","enableKeyRotation":true,"keyPolicy":{"Statement":[{"Action":"kms:*","Effect":"Allow","Principal":{"AWS":{"Fn::Join":["",["arn:aws:iam::",{"Ref":"AWS::AccountId"},":root"]]}},"Resource":"*"}],"Version":"2012-10-17"},"tags":[{"key":"Component","value":"Auth-Infrastructure"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}},"Alias":{"id":"Alias","path":"RsvpBackendStack/AuthInfrastructure/AuthParameterKey/Alias","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.Alias","version":"2.211.0","metadata":[{"aliasName":"*","targetKey":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/AuthInfrastructure/AuthParameterKey/Alias/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_kms.CfnAlias","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::KMS::Alias","aws:cdk:cloudformation:props":{"aliasName":"alias/wedding-rsvp-auth-production","targetKeyId":{"Fn::GetAtt":["AuthInfrastructureAuthParameterKeyC648EFAB","Arn"]}}}}}}}},"JWTPrivateKey":{"id":"JWTPrivateKey","path":"RsvpBackendStack/AuthInfrastructure/JWTPrivateKey","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.211.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*","tier":"Standard"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/AuthInfrastructure/JWTPrivateKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"RSA private key for JWT signing (RS256)","name":"/wedding-rsvp/production/jwt/private-key","tags":{"Component":"Auth-Infrastructure","Environment":"production","ManagedBy":"CDK","Project":"WeddingWebsite"},"tier":"Standard","type":"String","value":"-----BEGIN PRIVATE KEY-----\nMIIEvwIBADANBgkqhkiG9w0BAQEFAASCBKkwggSlAgEAAoIBAQCeIvtkuc39mlVE\nkho5yUFNAYFuQFP9ciCzvPxMWL6YK5BsZ7Ksk+zbGcDire2CMmYhqFSHb5HYG8/A\n7+UqkIFFXuJkhIA0PBad1xPTtb3niD2WGudJd0xXehv6za9mWx3a5tr7Y3GeDRWr\nNd7yR/1T7rer9OJNC8ZYZ/mD7vSBbMpPN7fePryJ+A3iaf4Nb2aEW4yv4klDIvkZ\n8n2fuKQrH+z7XR06yKyQS5qIzx0VpKUQQwA+JSBalovLJTYgtB64ZvtZCJaOsjtT\nZojLlcbHoyQoBs70Hwl24v4DIbWD1faSREikUCul0z2o74oOPgMtCzxSzF5PmPkA\nhomeYfi1AgMBAAECggEAA2A6+S1tRsN0xra5bW/iNL8PkLdkrksG2dzIObywREaJ\nJK35tsJJWBZpPihD4y0Tw0FZHUi7YT9wvzfv2WmF1PcKWBErEn0Q54mNUGOiHE9V\n2ek/nvDMy1ZIQsxWzlWAzOjzllJ1vQ/JnWLURwb/PbuMJhU01Tu8iNZ0EXC4aAs5\nAFmgyJy2zdq62iwGeJFCxhzvLv+7JNg7v5p82DwDoiyc+bhdG7+1HKvhgLpOHW88\nPOfngtSiHmvQHfpsPKN7VsQLMpkuPayPN6n+FHSpuyDxvYZLK3182O/br+MjqBBz\nFgA6doDZyd39i3P0yJIFMy/PmMJUuR9SZeXik/fV6QKBgQDP7qzryRegyDbPKuwH\nzyy/nNqgs7KbKkvrNWxIc9nPp2yczSkuyakxNEbAsyGBVfIGYkItiKnpm09fuLNh\nOGJ9GXHdvnWYDq3994VeAxBmejJvEPNmJKgM80zuQHEzg4CW60xlLWcHgpZsuHBA\nOmHGu6+KfEefEuYyODlMDQ3CSQKBgQDCsWy/z0lXJp1b45i96kMT1ESnIxG40V1A\nNe+wKt/oCxLQpUJADzvG+0lUIoh6RBQVoncCyfLEnt+COz3AKKvncTwWPlSRQkh6\nvL4gziYaPsUhJMr52A0WcxSkx+PufBFHWxjsKMSVd515gIfIt5xrTtmL07IVMvY6\n8qO7ZCZDDQKBgQCVI13H6H4YBkK5qNGOcFxqOvjc1sa+YEH/vFukQ+Pv+uf+N3DY\nbC/8aMBuqozXlWt4hLVur10ffxQZVgLjMmwBymRPZbI2lCDbzdNMsOnsdq0B2Kib\nlKMsVr3RDUukZSewF6i90SjazCFUbZ2lk7pZrnij3awJPqb5UjZWg+5gcQKBgQCq\n/JHKvyzlGme27OMXX+c7QgBtXVJSI6WnH/d6m5z7uMX0cj8F7ZsNPWIAPzfnUWTm\nP0IQM/Y/ElyvjoHEArQ+1mb0DhfNXw4ypRLB0usJv7j3S83rsQCFh9pIgbk/mLzA\nE1SHC6LitiOaMvSNphv87koHEIvlLFWuHa0IhYNI/QKBgQDFAygYnUoBtZgFrhp/\nygkbU2hfrvo6JVe8TmUN28idZ0cMwiOa9npp7iYjCNjAFwx753DGDub+TPc+OCx8\nkTStECX8Av5/ypI4BCwdPHfr/uzZqqYbEZIgVvyRLn/C5w8ote5OoP4WJ/ow+W/f\nYTx0LyhW/P+ue4Ul+k86ZFF1lw==\n-----END PRIVATE KEY-----\n"}}}}},"JWTPublicKey":{"id":"JWTPublicKey","path":"RsvpBackendStack/AuthInfrastructure/JWTPublicKey","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.211.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*","tier":"Standard"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/AuthInfrastructure/JWTPublicKey/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"RSA public key for JWT verification (RS256)","name":"/wedding-rsvp/production/jwt/public-key","tags":{"Component":"Auth-Infrastructure","Environment":"production","ManagedBy":"CDK","Project":"WeddingWebsite"},"tier":"Standard","type":"String","value":"-----BEGIN PUBLIC KEY-----\nMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAniL7ZLnN/ZpVRJIaOclB\nTQGBbkBT/XIgs7z8TFi+mCuQbGeyrJPs2xnA4q3tgjJmIahUh2+R2BvPwO/lKpCB\nRV7iZISANDwWndcT07W954g9lhrnSXdMV3ob+s2vZlsd2uba+2Nxng0VqzXe8kf9\nU+63q/TiTQvGWGf5g+70gWzKTze33j68ifgN4mn+DW9mhFuMr+JJQyL5GfJ9n7ik\nKx/s+10dOsiskEuaiM8dFaSlEEMAPiUgWpaLyyU2ILQeuGb7WQiWjrI7U2aIy5XG\nx6MkKAbO9B8JduL+AyG1g9X2kkRIpFArpdM9qO+KDj4DLQs8UsxeT5j5AIaJnmH4\ntQIDAQAB\n-----END PUBLIC KEY-----\n"}}}}},"JWTConfig":{"id":"JWTConfig","path":"RsvpBackendStack/AuthInfrastructure/JWTConfig","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.StringParameter","version":"2.211.0","metadata":[{"parameterName":"*","stringValue":"*","description":"*","tier":"Standard"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/AuthInfrastructure/JWTConfig/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ssm.CfnParameter","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SSM::Parameter","aws:cdk:cloudformation:props":{"description":"JWT configuration settings","name":"/wedding-rsvp/production/jwt/config","tags":{"Component":"Auth-Infrastructure","Environment":"production","ManagedBy":"CDK","Project":"WeddingWebsite"},"tier":"Standard","type":"String","value":"{\"algorithm\":\"RS256\",\"expiresIn\":\"1h\",\"issuer\":\"wedding-rsvp-production\",\"audience\":\"wedding-guests\",\"keyRotationSchedule\":\"90 days\"}"}}}}}}},"Database":{"id":"Database","path":"RsvpBackendStack/Database","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"RsvpTable":{"id":"RsvpTable","path":"RsvpBackendStack/Database/RsvpTable","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.211.0","metadata":[{"tableName":"*","partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"billingMode":"PAY_PER_REQUEST","encryption":"AWS_MANAGED","pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"removalPolicy":"retain","stream":"NEW_AND_OLD_IMAGES"},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"},"projectionType":"ALL"}]},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"},"projectionType":"ALL"}]},{"addGlobalSecondaryIndex":[{"indexName":"*","partitionKey":{"name":"*","type":"S"},"projectionType":"INCLUDE","nonKeyAttributes":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Database/RsvpTable/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"PK","attributeType":"S"},{"attributeName":"SK","attributeType":"S"},{"attributeName":"InvitationCode","attributeType":"S"},{"attributeName":"created_at","attributeType":"S"},{"attributeName":"EventStatus","attributeType":"S"},{"attributeName":"updated_at","attributeType":"S"},{"attributeName":"EntityType","attributeType":"S"},{"attributeName":"AdminDate","attributeType":"S"}],"billingMode":"PAY_PER_REQUEST","globalSecondaryIndexes":[{"indexName":"InvitationCodeIndex","keySchema":[{"attributeName":"InvitationCode","keyType":"HASH"},{"attributeName":"created_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"EventStatusIndex","keySchema":[{"attributeName":"EventStatus","keyType":"HASH"},{"attributeName":"updated_at","keyType":"RANGE"}],"projection":{"projectionType":"ALL"}},{"indexName":"AdminDateIndex","keySchema":[{"attributeName":"EntityType","keyType":"HASH"},{"attributeName":"AdminDate","keyType":"RANGE"}],"projection":{"projectionType":"INCLUDE","nonKeyAttributes":["guest_name","email","rsvp_status","event_id","plus_ones_count","updated_at"]}}],"keySchema":[{"attributeName":"PK","keyType":"HASH"},{"attributeName":"SK","keyType":"RANGE"}],"pointInTimeRecoverySpecification":{"pointInTimeRecoveryEnabled":true},"sseSpecification":{"sseEnabled":true},"streamSpecification":{"streamViewType":"NEW_AND_OLD_IMAGES"},"tableName":"wedding-rsvp-production","tags":[{"key":"Component","value":"RSVP-Database"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}},"ScalingRole":{"id":"ScalingRole","path":"RsvpBackendStack/Database/RsvpTable/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":["*"]}}}}}},"EmailInfrastructure":{"id":"EmailInfrastructure","path":"RsvpBackendStack/EmailInfrastructure","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"DomainIdentity":{"id":"DomainIdentity","path":"RsvpBackendStack/EmailInfrastructure/DomainIdentity","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.EmailIdentity","version":"2.211.0","metadata":[{"identity":"*","dkimSigning":true,"feedbackForwarding":true}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/DomainIdentity/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.CfnEmailIdentity","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SES::EmailIdentity","aws:cdk:cloudformation:props":{"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"dkimAttributes":{"signingEnabled":true},"emailIdentity":"wedding.himnher.dev","feedbackAttributes":{"emailForwardingEnabled":true}}}}}},"ConfigurationSet":{"id":"ConfigurationSet","path":"RsvpBackendStack/EmailInfrastructure/ConfigurationSet","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.ConfigurationSet","version":"2.211.0","metadata":[{"configurationSetName":"*","sendingEnabled":true}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/ConfigurationSet/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.CfnConfigurationSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SES::ConfigurationSet","aws:cdk:cloudformation:props":{"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"name":"wedding-rsvp-production","sendingOptions":{"sendingEnabled":true}}}}}},"BounceNotificationTopic":{"id":"BounceNotificationTopic","path":"RsvpBackendStack/EmailInfrastructure/BounceNotificationTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.211.0","metadata":[{"topicName":"*","displayName":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/BounceNotificationTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"Wedding RSVP Bounce Notifications","tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"topicName":"wedding-rsvp-bounce-notifications-production"}}},"wedding@himnher.dev":{"id":"wedding@himnher.dev","path":"RsvpBackendStack/EmailInfrastructure/BounceNotificationTopic/wedding@himnher.dev","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.211.0","metadata":[{"topic":"*","endpoint":"*","protocol":"email","filterPolicy":"*","filterPolicyWithMessageBody":"*","deadLetterQueue":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/BounceNotificationTopic/wedding@himnher.dev/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":"wedding@himnher.dev","protocol":"email","topicArn":{"Ref":"EmailInfrastructureBounceNotificationTopicB9461738"}}}}}},"Policy":{"id":"Policy","path":"RsvpBackendStack/EmailInfrastructure/BounceNotificationTopic/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.TopicPolicy","version":"2.211.0","metadata":[{"topics":["*"]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/BounceNotificationTopic/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopicPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::TopicPolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sns:Publish","Condition":{"StringEquals":{"AWS:SourceAccount":{"Ref":"AWS::AccountId"},"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ses:us-east-1:",{"Ref":"AWS::AccountId"},":configuration-set/",{"Ref":"EmailInfrastructureConfigurationSet32710208"}]]}}},"Effect":"Allow","Principal":{"Service":"ses.amazonaws.com"},"Resource":{"Ref":"EmailInfrastructureBounceNotificationTopicB9461738"},"Sid":"0"}],"Version":"2012-10-17"},"topics":[{"Ref":"EmailInfrastructureBounceNotificationTopicB9461738"}]}}}}}}},"ComplaintNotificationTopic":{"id":"ComplaintNotificationTopic","path":"RsvpBackendStack/EmailInfrastructure/ComplaintNotificationTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.211.0","metadata":[{"topicName":"*","displayName":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/ComplaintNotificationTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"Wedding RSVP Complaint Notifications","tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"topicName":"wedding-rsvp-complaint-notifications-production"}}},"wedding@himnher.dev":{"id":"wedding@himnher.dev","path":"RsvpBackendStack/EmailInfrastructure/ComplaintNotificationTopic/wedding@himnher.dev","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.211.0","metadata":[{"topic":"*","endpoint":"*","protocol":"email","filterPolicy":"*","filterPolicyWithMessageBody":"*","deadLetterQueue":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/ComplaintNotificationTopic/wedding@himnher.dev/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":"wedding@himnher.dev","protocol":"email","topicArn":{"Ref":"EmailInfrastructureComplaintNotificationTopicB0E65C04"}}}}}},"Policy":{"id":"Policy","path":"RsvpBackendStack/EmailInfrastructure/ComplaintNotificationTopic/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.TopicPolicy","version":"2.211.0","metadata":[{"topics":["*"]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/ComplaintNotificationTopic/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopicPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::TopicPolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sns:Publish","Condition":{"StringEquals":{"AWS:SourceAccount":{"Ref":"AWS::AccountId"},"AWS:SourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":ses:us-east-1:",{"Ref":"AWS::AccountId"},":configuration-set/",{"Ref":"EmailInfrastructureConfigurationSet32710208"}]]}}},"Effect":"Allow","Principal":{"Service":"ses.amazonaws.com"},"Resource":{"Ref":"EmailInfrastructureComplaintNotificationTopicB0E65C04"},"Sid":"0"}],"Version":"2012-10-17"},"topics":[{"Ref":"EmailInfrastructureComplaintNotificationTopicB0E65C04"}]}}}}}}},"BounceDLQ":{"id":"BounceDLQ","path":"RsvpBackendStack/EmailInfrastructure/BounceDLQ","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[{"queueName":"*","retentionPeriod":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/BounceDLQ/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"wedding-rsvp-bounce-dlq-production","tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"ComplaintDLQ":{"id":"ComplaintDLQ","path":"RsvpBackendStack/EmailInfrastructure/ComplaintDLQ","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[{"queueName":"*","retentionPeriod":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/ComplaintDLQ/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"wedding-rsvp-complaint-dlq-production","tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"EmailDLQ":{"id":"EmailDLQ","path":"RsvpBackendStack/EmailInfrastructure/EmailDLQ","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[{"queueName":"*","retentionPeriod":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/EmailDLQ/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":1209600,"queueName":"wedding-rsvp-email-dlq-production","tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"BounceQueue":{"id":"BounceQueue","path":"RsvpBackendStack/EmailInfrastructure/BounceQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[{"queueName":"*","visibilityTimeout":"*","retentionPeriod":"*","deadLetterQueue":{"queue":"*","maxReceiveCount":"*"}}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/BounceQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":604800,"queueName":"wedding-rsvp-bounce-queue-production","redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["EmailInfrastructureBounceDLQ80EC0262","Arn"]},"maxReceiveCount":3},"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"visibilityTimeout":60}}},"Policy":{"id":"Policy","path":"RsvpBackendStack/EmailInfrastructure/BounceQueue/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"2.211.0","metadata":[{"queues":["*"]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/BounceQueue/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Condition":{"ArnEquals":{"aws:SourceArn":{"Ref":"EmailInfrastructureBounceNotificationTopicB9461738"}}},"Effect":"Allow","Principal":{"Service":"sns.amazonaws.com"},"Resource":{"Fn::GetAtt":["EmailInfrastructureBounceQueueF3B4CA39","Arn"]}}],"Version":"2012-10-17"},"queues":[{"Ref":"EmailInfrastructureBounceQueueF3B4CA39"}]}}}}},"RsvpBackendStackEmailInfrastructureBounceNotificationTopicE5D376D2":{"id":"RsvpBackendStackEmailInfrastructureBounceNotificationTopicE5D376D2","path":"RsvpBackendStack/EmailInfrastructure/BounceQueue/RsvpBackendStackEmailInfrastructureBounceNotificationTopicE5D376D2","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.211.0","metadata":[{"topic":"*","endpoint":"*","protocol":"sqs","rawMessageDelivery":true,"filterPolicy":"*","filterPolicyWithMessageBody":"*","region":"*","deadLetterQueue":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/BounceQueue/RsvpBackendStackEmailInfrastructureBounceNotificationTopicE5D376D2/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":{"Fn::GetAtt":["EmailInfrastructureBounceQueueF3B4CA39","Arn"]},"protocol":"sqs","rawMessageDelivery":true,"topicArn":{"Ref":"EmailInfrastructureBounceNotificationTopicB9461738"}}}}}}}},"ComplaintQueue":{"id":"ComplaintQueue","path":"RsvpBackendStack/EmailInfrastructure/ComplaintQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[{"queueName":"*","visibilityTimeout":"*","retentionPeriod":"*","deadLetterQueue":{"queue":"*","maxReceiveCount":"*"}}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/ComplaintQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":604800,"queueName":"wedding-rsvp-complaint-queue-production","redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["EmailInfrastructureComplaintDLQ93A54850","Arn"]},"maxReceiveCount":3},"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"visibilityTimeout":60}}},"Policy":{"id":"Policy","path":"RsvpBackendStack/EmailInfrastructure/ComplaintQueue/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"2.211.0","metadata":[{"queues":["*"]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/ComplaintQueue/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Condition":{"ArnEquals":{"aws:SourceArn":{"Ref":"EmailInfrastructureComplaintNotificationTopicB0E65C04"}}},"Effect":"Allow","Principal":{"Service":"sns.amazonaws.com"},"Resource":{"Fn::GetAtt":["EmailInfrastructureComplaintQueue1972F484","Arn"]}}],"Version":"2012-10-17"},"queues":[{"Ref":"EmailInfrastructureComplaintQueue1972F484"}]}}}}},"RsvpBackendStackEmailInfrastructureComplaintNotificationTopic1025EE3F":{"id":"RsvpBackendStackEmailInfrastructureComplaintNotificationTopic1025EE3F","path":"RsvpBackendStack/EmailInfrastructure/ComplaintQueue/RsvpBackendStackEmailInfrastructureComplaintNotificationTopic1025EE3F","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.211.0","metadata":[{"topic":"*","endpoint":"*","protocol":"sqs","rawMessageDelivery":true,"filterPolicy":"*","filterPolicyWithMessageBody":"*","region":"*","deadLetterQueue":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/ComplaintQueue/RsvpBackendStackEmailInfrastructureComplaintNotificationTopic1025EE3F/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":{"Fn::GetAtt":["EmailInfrastructureComplaintQueue1972F484","Arn"]},"protocol":"sqs","rawMessageDelivery":true,"topicArn":{"Ref":"EmailInfrastructureComplaintNotificationTopicB0E65C04"}}}}}}}},"EmailQueue":{"id":"EmailQueue","path":"RsvpBackendStack/EmailInfrastructure/EmailQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.211.0","metadata":[{"queueName":"*","visibilityTimeout":"*","retentionPeriod":"*","deadLetterQueue":{"queue":"*","maxReceiveCount":"*"}}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/EmailQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"messageRetentionPeriod":604800,"queueName":"wedding-rsvp-email-queue-production","redrivePolicy":{"deadLetterTargetArn":{"Fn::GetAtt":["EmailInfrastructureEmailDLQA3355330","Arn"]},"maxReceiveCount":5},"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"visibilityTimeout":300}}}}},"BounceEventDestination":{"id":"BounceEventDestination","path":"RsvpBackendStack/EmailInfrastructure/BounceEventDestination","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.ConfigurationSetEventDestination","version":"2.211.0","metadata":[{"configurationSet":"*","destination":"*","events":["bounce","reject"],"configurationSetEventDestinationName":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/BounceEventDestination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.CfnConfigurationSetEventDestination","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SES::ConfigurationSetEventDestination","aws:cdk:cloudformation:props":{"configurationSetName":{"Ref":"EmailInfrastructureConfigurationSet32710208"},"eventDestination":{"name":"bounce-destination-production","enabled":true,"matchingEventTypes":["bounce","reject"],"snsDestination":{"topicArn":{"Ref":"EmailInfrastructureBounceNotificationTopicB9461738"}}}}}}}},"ComplaintEventDestination":{"id":"ComplaintEventDestination","path":"RsvpBackendStack/EmailInfrastructure/ComplaintEventDestination","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.ConfigurationSetEventDestination","version":"2.211.0","metadata":[{"configurationSet":"*","destination":"*","events":["complaint"],"configurationSetEventDestinationName":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/ComplaintEventDestination/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ses.CfnConfigurationSetEventDestination","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SES::ConfigurationSetEventDestination","aws:cdk:cloudformation:props":{"configurationSetName":{"Ref":"EmailInfrastructureConfigurationSet32710208"},"eventDestination":{"name":"complaint-destination-production","enabled":true,"matchingEventTypes":["complaint"],"snsDestination":{"topicArn":{"Ref":"EmailInfrastructureComplaintNotificationTopicB0E65C04"}}}}}}}},"SESRole":{"id":"SESRole","path":"RsvpBackendStack/EmailInfrastructure/SESRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"roleName":"*","managedPolicies":[{"managedPolicyArn":"*"}],"inlinePolicies":"*"}]},"children":{"ImportSESRole":{"id":"ImportSESRole","path":"RsvpBackendStack/EmailInfrastructure/SESRole/ImportSESRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailInfrastructure/SESRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"policies":[{"policyName":"SESSendEmailPolicy","policyDocument":{"Statement":[{"Action":["ses:SendBulkTemplatedEmail","ses:SendEmail","ses:SendRawEmail","ses:SendTemplatedEmail"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:ses:us-east-1:",{"Ref":"AWS::AccountId"},":configuration-set/*"]]},{"Fn::Join":["",["arn:aws:ses:us-east-1:",{"Ref":"AWS::AccountId"},":identity/wedding.himnher.dev"]]}]},{"Action":["ses:DescribeConfigurationSet","ses:GetSendQuota","ses:GetSendStatistics"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"}}],"roleName":"wedding-rsvp-ses-role-production","tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"ConfigurationSetName":{"id":"ConfigurationSetName","path":"RsvpBackendStack/EmailInfrastructure/ConfigurationSetName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"VerifiedDomain":{"id":"VerifiedDomain","path":"RsvpBackendStack/EmailInfrastructure/VerifiedDomain","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DKIMRecord1":{"id":"DKIMRecord1","path":"RsvpBackendStack/EmailInfrastructure/DKIMRecord1","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DKIMRecord2":{"id":"DKIMRecord2","path":"RsvpBackendStack/EmailInfrastructure/DKIMRecord2","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"DKIMRecord3":{"id":"DKIMRecord3","path":"RsvpBackendStack/EmailInfrastructure/DKIMRecord3","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"EmailLambdas":{"id":"EmailLambdas","path":"RsvpBackendStack/EmailLambdas","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"SendEmailLogs":{"id":"SendEmailLogs","path":"RsvpBackendStack/EmailLambdas/SendEmailLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[{"retention":30,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/SendEmailLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30,"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"SendEmailFunction":{"id":"SendEmailFunction","path":"RsvpBackendStack/EmailLambdas/SendEmailFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.211.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","environment":"*","logGroup":"*","bundling":{"externalModules":"*","minify":true,"sourceMap":true},"code":"*"},{},{},{},{},{},{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","environment":"*","logGroup":"*","bundling":{"externalModules":"*","minify":true,"sourceMap":true}}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"RsvpBackendStack/EmailLambdas/SendEmailFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"RsvpBackendStack/EmailLambdas/SendEmailFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/SendEmailFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RsvpBackendStack/EmailLambdas/SendEmailFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/SendEmailFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","Arn"]},"/index/*"]]}]},{"Action":["ses:SendBulkTemplatedEmail","ses:SendEmail","ses:SendRawEmail","ses:SendTemplatedEmail"],"Effect":"Allow","Resource":"*"},{"Action":["sqs:ChangeMessageVisibility","sqs:DeleteMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:ReceiveMessage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["EmailInfrastructureEmailQueue5311AA87","Arn"]}}],"Version":"2012-10-17"},"policyName":"EmailLambdasSendEmailFunctionServiceRoleDefaultPolicy1725AA6D","roles":[{"Ref":"EmailLambdasSendEmailFunctionServiceRole7F470561"}]}}}}}}},"Code":{"id":"Code","path":"RsvpBackendStack/EmailLambdas/SendEmailFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"RsvpBackendStack/EmailLambdas/SendEmailFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"RsvpBackendStack/EmailLambdas/SendEmailFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/SendEmailFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"137ea573ab1848274f0bb1aaf501bc171f6af7b1836651150f9582be9e59db31.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"DatabaseRsvpTableA1E8C671"},"SOURCE_EMAIL":"noreply@wedding.himnher.dev","CONFIGURATION_SET":"wedding-rsvp-production","WEBSITE_URL":"https://wedding.himnher.dev","ENVIRONMENT":"production"}},"functionName":"wedding-send-email-production","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"EmailLambdasSendEmailLogsA3521483"}},"memorySize":512,"role":{"Fn::GetAtt":["EmailLambdasSendEmailFunctionServiceRole7F470561","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"timeout":60}}},"SqsEventSource:RsvpBackendStackEmailInfrastructureEmailQueue71EE5443":{"id":"SqsEventSource:RsvpBackendStackEmailInfrastructureEmailQueue71EE5443","path":"RsvpBackendStack/EmailLambdas/SendEmailFunction/SqsEventSource:RsvpBackendStackEmailInfrastructureEmailQueue71EE5443","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.211.0","metadata":[{"target":"*","batchSize":"*","maxBatchingWindow":"*","maxConcurrency":"*","reportBatchItemFailures":true,"enabled":"*","eventSourceArn":"*","filters":"*","filterEncryption":"*","metricsConfig":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/SendEmailFunction/SqsEventSource:RsvpBackendStackEmailInfrastructureEmailQueue71EE5443/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"batchSize":10,"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"eventSourceArn":{"Fn::GetAtt":["EmailInfrastructureEmailQueue5311AA87","Arn"]},"functionName":{"Ref":"EmailLambdasSendEmailFunctionB67F7821"},"functionResponseTypes":["ReportBatchItemFailures"],"maximumBatchingWindowInSeconds":5}}}}}}},"ProcessEmailQueueLogs":{"id":"ProcessEmailQueueLogs","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[{"retention":30,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30,"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"ProcessEmailQueueFunction":{"id":"ProcessEmailQueueFunction","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.211.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","environment":"*","logGroup":"*","bundling":{"externalModules":"*","minify":true,"sourceMap":true},"code":"*"},{},{},{},{},{},{},{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","environment":"*","logGroup":"*","bundling":{"externalModules":"*","minify":true,"sourceMap":true}}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","Arn"]},"/index/*"]]}]},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":[{"Fn::GetAtt":["EmailLambdasSendEmailFunctionB67F7821","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["EmailLambdasSendEmailFunctionB67F7821","Arn"]},":*"]]}]}],"Version":"2012-10-17"},"policyName":"EmailLambdasProcessEmailQueueFunctionServiceRoleDefaultPolicy5792DB0F","roles":[{"Ref":"EmailLambdasProcessEmailQueueFunctionServiceRoleA5E3FF84"}]}}}}}}},"Code":{"id":"Code","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"d61b87e27f97c239f70b59c1133166147e8bf7c5ca9de35b6a861e6dc0576107.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"DatabaseRsvpTableA1E8C671"},"SOURCE_EMAIL":"noreply@wedding.himnher.dev","CONFIGURATION_SET":"wedding-rsvp-production","WEBSITE_URL":"https://wedding.himnher.dev","ENVIRONMENT":"production","SEND_EMAIL_FUNCTION_NAME":{"Ref":"EmailLambdasSendEmailFunctionB67F7821"}}},"functionName":"wedding-process-email-queue-production","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"EmailLambdasProcessEmailQueueLogs7FB80DCE"}},"memorySize":1024,"role":{"Fn::GetAtt":["EmailLambdasProcessEmailQueueFunctionServiceRoleA5E3FF84","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"timeout":300}}}}},"ProcessBounceLogs":{"id":"ProcessBounceLogs","path":"RsvpBackendStack/EmailLambdas/ProcessBounceLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[{"retention":30,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessBounceLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30,"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"ProcessBounceFunction":{"id":"ProcessBounceFunction","path":"RsvpBackendStack/EmailLambdas/ProcessBounceFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.211.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","environment":"*","logGroup":"*","bundling":{"externalModules":"*","minify":true,"sourceMap":true},"code":"*"},{},{},{},{},{},{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","environment":"*","logGroup":"*","bundling":{"externalModules":"*","minify":true,"sourceMap":true}}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"RsvpBackendStack/EmailLambdas/ProcessBounceFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"RsvpBackendStack/EmailLambdas/ProcessBounceFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessBounceFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RsvpBackendStack/EmailLambdas/ProcessBounceFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessBounceFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","Arn"]},"/index/*"]]}]},{"Action":["sqs:ChangeMessageVisibility","sqs:DeleteMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:ReceiveMessage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["EmailInfrastructureBounceQueueF3B4CA39","Arn"]}}],"Version":"2012-10-17"},"policyName":"EmailLambdasProcessBounceFunctionServiceRoleDefaultPolicyFC4E65B8","roles":[{"Ref":"EmailLambdasProcessBounceFunctionServiceRole2A2B4617"}]}}}}}}},"Code":{"id":"Code","path":"RsvpBackendStack/EmailLambdas/ProcessBounceFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"RsvpBackendStack/EmailLambdas/ProcessBounceFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"RsvpBackendStack/EmailLambdas/ProcessBounceFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessBounceFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"24b7a001d6dc2149b765f8b6edaa44fa44babe85fdebf3f3b1b909eb1ea411c7.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"DatabaseRsvpTableA1E8C671"},"SOURCE_EMAIL":"noreply@wedding.himnher.dev","CONFIGURATION_SET":"wedding-rsvp-production","WEBSITE_URL":"https://wedding.himnher.dev","ENVIRONMENT":"production"}},"functionName":"wedding-process-bounce-production","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"EmailLambdasProcessBounceLogsF09D0EF3"}},"memorySize":256,"role":{"Fn::GetAtt":["EmailLambdasProcessBounceFunctionServiceRole2A2B4617","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"timeout":60}}},"SqsEventSource:RsvpBackendStackEmailInfrastructureBounceQueue5F02AF66":{"id":"SqsEventSource:RsvpBackendStackEmailInfrastructureBounceQueue5F02AF66","path":"RsvpBackendStack/EmailLambdas/ProcessBounceFunction/SqsEventSource:RsvpBackendStackEmailInfrastructureBounceQueue5F02AF66","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.211.0","metadata":[{"target":"*","batchSize":"*","maxBatchingWindow":"*","maxConcurrency":"*","reportBatchItemFailures":true,"enabled":"*","eventSourceArn":"*","filters":"*","filterEncryption":"*","metricsConfig":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessBounceFunction/SqsEventSource:RsvpBackendStackEmailInfrastructureBounceQueue5F02AF66/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"batchSize":10,"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"eventSourceArn":{"Fn::GetAtt":["EmailInfrastructureBounceQueueF3B4CA39","Arn"]},"functionName":{"Ref":"EmailLambdasProcessBounceFunction3D0401F2"},"functionResponseTypes":["ReportBatchItemFailures"],"maximumBatchingWindowInSeconds":5}}}}}}},"ProcessComplaintLogs":{"id":"ProcessComplaintLogs","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[{"retention":30,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30,"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"ProcessComplaintFunction":{"id":"ProcessComplaintFunction","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.211.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","environment":"*","logGroup":"*","bundling":{"externalModules":"*","minify":true,"sourceMap":true},"code":"*"},{},{},{},{},{},{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","environment":"*","logGroup":"*","bundling":{"externalModules":"*","minify":true,"sourceMap":true}}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","Arn"]},"/index/*"]]}]},{"Action":["sqs:ChangeMessageVisibility","sqs:DeleteMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:ReceiveMessage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["EmailInfrastructureComplaintQueue1972F484","Arn"]}}],"Version":"2012-10-17"},"policyName":"EmailLambdasProcessComplaintFunctionServiceRoleDefaultPolicy6A5431EF","roles":[{"Ref":"EmailLambdasProcessComplaintFunctionServiceRoleF45357CF"}]}}}}}}},"Code":{"id":"Code","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"79a488f828d3a7ccb662b18ee6b828266f0828a69b437d93ed3ab40a1866dc37.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"DatabaseRsvpTableA1E8C671"},"SOURCE_EMAIL":"noreply@wedding.himnher.dev","CONFIGURATION_SET":"wedding-rsvp-production","WEBSITE_URL":"https://wedding.himnher.dev","ENVIRONMENT":"production"}},"functionName":"wedding-process-complaint-production","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"EmailLambdasProcessComplaintLogsB87A6220"}},"memorySize":256,"role":{"Fn::GetAtt":["EmailLambdasProcessComplaintFunctionServiceRoleF45357CF","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"timeout":60}}},"SqsEventSource:RsvpBackendStackEmailInfrastructureComplaintQueueB1DDA508":{"id":"SqsEventSource:RsvpBackendStackEmailInfrastructureComplaintQueueB1DDA508","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/SqsEventSource:RsvpBackendStackEmailInfrastructureComplaintQueueB1DDA508","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.211.0","metadata":[{"target":"*","batchSize":"*","maxBatchingWindow":"*","maxConcurrency":"*","reportBatchItemFailures":true,"enabled":"*","eventSourceArn":"*","filters":"*","filterEncryption":"*","metricsConfig":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailLambdas/ProcessComplaintFunction/SqsEventSource:RsvpBackendStackEmailInfrastructureComplaintQueueB1DDA508/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"batchSize":10,"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"eventSourceArn":{"Fn::GetAtt":["EmailInfrastructureComplaintQueue1972F484","Arn"]},"functionName":{"Ref":"EmailLambdasProcessComplaintFunction6DE1A6E7"},"functionResponseTypes":["ReportBatchItemFailures"],"maximumBatchingWindowInSeconds":5}}}}}}},"SendEmailFunctionArn":{"id":"SendEmailFunctionArn","path":"RsvpBackendStack/EmailLambdas/SendEmailFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ProcessEmailQueueFunctionArn":{"id":"ProcessEmailQueueFunctionArn","path":"RsvpBackendStack/EmailLambdas/ProcessEmailQueueFunctionArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"EmailStreamProcessor":{"id":"EmailStreamProcessor","path":"RsvpBackendStack/EmailStreamProcessor","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"StreamProcessorLogs":{"id":"StreamProcessorLogs","path":"RsvpBackendStack/EmailStreamProcessor/StreamProcessorLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[{"retention":30,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailStreamProcessor/StreamProcessorLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30,"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"StreamProcessorFunction":{"id":"StreamProcessorFunction","path":"RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.211.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","environment":"*","logGroup":"*","bundling":{"externalModules":"*","minify":true,"sourceMap":true},"code":"*"},{},{},{},{},{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","environment":"*","logGroup":"*","bundling":{"externalModules":"*","minify":true,"sourceMap":true}}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction/ServiceRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction/ServiceRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"dynamodb:ListStreams","Effect":"Allow","Resource":"*"},{"Action":["dynamodb:DescribeStream","dynamodb:GetRecords","dynamodb:GetShardIterator"],"Effect":"Allow","Resource":{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","StreamArn"]}}],"Version":"2012-10-17"},"policyName":"EmailStreamProcessorStreamProcessorFunctionServiceRoleDefaultPolicyD3BB43B5","roles":[{"Ref":"EmailStreamProcessorStreamProcessorFunctionServiceRole4F5FCF10"}]}}}}}}},"Code":{"id":"Code","path":"RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailStreamProcessor/StreamProcessorFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"534a06823e60e1c9477992e21790739e1444fcca09d0a596e54aa6879985b879.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"DatabaseRsvpTableA1E8C671"},"SOURCE_EMAIL":"noreply@wedding.himnher.dev","WEBSITE_URL":"https://wedding.himnher.dev","ENVIRONMENT":"production"}},"functionName":"wedding-stream-processor-production","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"EmailStreamProcessorStreamProcessorLogs034917B3"}},"memorySize":512,"role":{"Fn::GetAtt":["EmailStreamProcessorStreamProcessorFunctionServiceRole4F5FCF10","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"timeout":60}}}}},"PipeRole":{"id":"PipeRole","path":"RsvpBackendStack/EmailStreamProcessor/PipeRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"inlinePolicies":"*"}]},"children":{"ImportPipeRole":{"id":"ImportPipeRole","path":"RsvpBackendStack/EmailStreamProcessor/PipeRole/ImportPipeRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RsvpBackendStack/EmailStreamProcessor/PipeRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"pipes.amazonaws.com"}}],"Version":"2012-10-17"},"policies":[{"policyName":"PipePolicy","policyDocument":{"Statement":[{"Action":["dynamodb:DescribeStream","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:ListStreams"],"Effect":"Allow","Resource":{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","StreamArn"]}},{"Action":"lambda:InvokeFunction","Effect":"Allow","Resource":{"Fn::GetAtt":["EmailStreamProcessorStreamProcessorFunctionDA449B9F","Arn"]}},{"Action":"sqs:SendMessage","Effect":"Allow","Resource":{"Fn::GetAtt":["EmailInfrastructureEmailQueue5311AA87","Arn"]}}],"Version":"2012-10-17"}}],"tags":[{"key":"Component","value":"Backend"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"EmailPipe":{"id":"EmailPipe","path":"RsvpBackendStack/EmailStreamProcessor/EmailPipe","constructInfo":{"fqn":"aws-cdk-lib.aws_pipes.CfnPipe","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Pipes::Pipe","aws:cdk:cloudformation:props":{"enrichment":{"Fn::GetAtt":["EmailStreamProcessorStreamProcessorFunctionDA449B9F","Arn"]},"name":"wedding-email-pipe-production","roleArn":{"Fn::GetAtt":["EmailStreamProcessorPipeRole6A3C62F9","Arn"]},"source":{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","StreamArn"]},"sourceParameters":{"dynamoDbStreamParameters":{"startingPosition":"LATEST","batchSize":10,"maximumBatchingWindowInSeconds":5},"filterCriteria":{"filters":[{"pattern":"{\"eventName\":[\"INSERT\",\"MODIFY\"],\"dynamodb\":{\"Keys\":{\"SK\":{\"S\":[{\"prefix\":\"RSVP#\"}]}}}}"}]}},"tags":{"Component":"Backend","Environment":"production","ManagedBy":"CDK","Project":"WeddingWebsite"},"target":{"Fn::GetAtt":["EmailInfrastructureEmailQueue5311AA87","Arn"]}}}},"PipeArn":{"id":"PipeArn","path":"RsvpBackendStack/EmailStreamProcessor/PipeArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"Api":{"id":"Api","path":"RsvpBackendStack/Api","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"LambdaExecutionRole":{"id":"LambdaExecutionRole","path":"RsvpBackendStack/Api/LambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportLambdaExecutionRole":{"id":"ImportLambdaExecutionRole","path":"RsvpBackendStack/Api/LambdaExecutionRole/ImportLambdaExecutionRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/LambdaExecutionRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"RsvpBackendStack/Api/LambdaExecutionRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.211.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/LambdaExecutionRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["DatabaseRsvpTableA1E8C671","Arn"]},"/index/*"]]}]},{"Action":["xray:PutTelemetryRecords","xray:PutTraceSegments"],"Effect":"Allow","Resource":"*"},{"Action":["ssm:DescribeParameters","ssm:GetParameter","ssm:GetParameterHistory","ssm:GetParameters"],"Effect":"Allow","Resource":[{"Fn::Join":["",["arn:aws:ssm:us-east-1:",{"Ref":"AWS::AccountId"},":parameter",{"Ref":"AuthInfrastructureJWTPrivateKey4134C097"}]]},{"Fn::Join":["",["arn:aws:ssm:us-east-1:",{"Ref":"AWS::AccountId"},":parameter",{"Ref":"AuthInfrastructureJWTPublicKey86A54DEC"}]]}]},{"Action":"kms:Decrypt","Effect":"Allow","Resource":{"Fn::GetAtt":["AuthInfrastructureAuthParameterKeyC648EFAB","Arn"]}}],"Version":"2012-10-17"},"policyName":"ApiLambdaExecutionRoleDefaultPolicy51F2E455","roles":[{"Ref":"ApiLambdaExecutionRole807E4FD5"}]}}}}}}},"CreateRSVPLogs":{"id":"CreateRSVPLogs","path":"RsvpBackendStack/Api/CreateRSVPLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[{"retention":30,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/CreateRSVPLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30,"tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"CreateRSVPFunction":{"id":"CreateRSVPFunction","path":"RsvpBackendStack/Api/CreateRSVPFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.211.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","role":"*","environment":"*","logGroup":"*","tracing":"Active","bundling":{"externalModules":"*"},"code":"*"},{},{},{},{},{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","role":"*","environment":"*","logGroup":"*","tracing":"Active","bundling":{"externalModules":"*"}}]},"children":{"Code":{"id":"Code","path":"RsvpBackendStack/Api/CreateRSVPFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"RsvpBackendStack/Api/CreateRSVPFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"RsvpBackendStack/Api/CreateRSVPFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/CreateRSVPFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"bce0ac9d7bbc56f928c41e9776e51e086e1d1bee2a762b50d732fe1433bda7f3.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"DatabaseRsvpTableA1E8C671"},"REGION":"us-east-1","STAGE":"production","LOG_LEVEL":"INFO"}},"functionName":"wedding-create-rsvp-production","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"ApiCreateRSVPLogsA7B5D752"}},"memorySize":256,"role":{"Fn::GetAtt":["ApiLambdaExecutionRole807E4FD5","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"GetRSVPLogs":{"id":"GetRSVPLogs","path":"RsvpBackendStack/Api/GetRSVPLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[{"retention":30,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/GetRSVPLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30,"tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"GetRSVPFunction":{"id":"GetRSVPFunction","path":"RsvpBackendStack/Api/GetRSVPFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.211.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","role":"*","environment":"*","logGroup":"*","tracing":"Active","bundling":{"externalModules":"*"},"code":"*"},{},{},{},{},{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","role":"*","environment":"*","logGroup":"*","tracing":"Active","bundling":{"externalModules":"*"}}]},"children":{"Code":{"id":"Code","path":"RsvpBackendStack/Api/GetRSVPFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"RsvpBackendStack/Api/GetRSVPFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"RsvpBackendStack/Api/GetRSVPFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/GetRSVPFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"178dca137de80354749bccbad1be7c8f3efd106a919c62d7ba9d8243fc718bb4.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"DatabaseRsvpTableA1E8C671"},"REGION":"us-east-1","STAGE":"production","LOG_LEVEL":"INFO"}},"functionName":"wedding-get-rsvp-production","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"ApiGetRSVPLogs5876A655"}},"memorySize":256,"role":{"Fn::GetAtt":["ApiLambdaExecutionRole807E4FD5","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"UpdateRSVPLogs":{"id":"UpdateRSVPLogs","path":"RsvpBackendStack/Api/UpdateRSVPLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[{"retention":30,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/UpdateRSVPLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30,"tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"UpdateRSVPFunction":{"id":"UpdateRSVPFunction","path":"RsvpBackendStack/Api/UpdateRSVPFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.211.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","role":"*","environment":"*","logGroup":"*","tracing":"Active","bundling":{"externalModules":"*"},"code":"*"},{},{},{},{},{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","role":"*","environment":"*","logGroup":"*","tracing":"Active","bundling":{"externalModules":"*"}}]},"children":{"Code":{"id":"Code","path":"RsvpBackendStack/Api/UpdateRSVPFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"RsvpBackendStack/Api/UpdateRSVPFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"RsvpBackendStack/Api/UpdateRSVPFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/UpdateRSVPFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"d24f5453b04307957d9c82934a1c98f1d83be5324e4931e0fa22b6eedd46b6c9.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"DatabaseRsvpTableA1E8C671"},"REGION":"us-east-1","STAGE":"production","LOG_LEVEL":"INFO"}},"functionName":"wedding-update-rsvp-production","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"ApiUpdateRSVPLogsD7823710"}},"memorySize":256,"role":{"Fn::GetAtt":["ApiLambdaExecutionRole807E4FD5","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"ListRSVPsLogs":{"id":"ListRSVPsLogs","path":"RsvpBackendStack/Api/ListRSVPsLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[{"retention":30,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/ListRSVPsLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30,"tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"ListRSVPsFunction":{"id":"ListRSVPsFunction","path":"RsvpBackendStack/Api/ListRSVPsFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.211.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","role":"*","environment":"*","logGroup":"*","tracing":"Active","bundling":{"externalModules":"*"},"code":"*"},{},{},{},{},{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","role":"*","environment":"*","logGroup":"*","tracing":"Active","bundling":{"externalModules":"*"}}]},"children":{"Code":{"id":"Code","path":"RsvpBackendStack/Api/ListRSVPsFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"RsvpBackendStack/Api/ListRSVPsFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"RsvpBackendStack/Api/ListRSVPsFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/ListRSVPsFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"6dd71f22d1814c42c8d759b26caa176ecb665ebcdbfb93fb1ca5cb79106f45b2.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"DatabaseRsvpTableA1E8C671"},"REGION":"us-east-1","STAGE":"production","LOG_LEVEL":"INFO"}},"functionName":"wedding-list-rsvps-production","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"ApiListRSVPsLogs595876DE"}},"memorySize":256,"role":{"Fn::GetAtt":["ApiLambdaExecutionRole807E4FD5","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"ValidateInvitationLogs":{"id":"ValidateInvitationLogs","path":"RsvpBackendStack/Api/ValidateInvitationLogs","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.211.0","metadata":[{"retention":30,"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/ValidateInvitationLogs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"retentionInDays":30,"tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"ValidateInvitationFunction":{"id":"ValidateInvitationFunction","path":"RsvpBackendStack/Api/ValidateInvitationFunction","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.211.0","metadata":[{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","role":"*","environment":"*","logGroup":"*","tracing":"Active","bundling":{"externalModules":"*"},"code":"*"},{},{},{},{},{"functionName":"*","runtime":"*","handler":"*","entry":"*","timeout":"*","memorySize":"*","role":"*","environment":"*","logGroup":"*","tracing":"Active","bundling":{"externalModules":"*"}}]},"children":{"Code":{"id":"Code","path":"RsvpBackendStack/Api/ValidateInvitationFunction/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.211.0"},"children":{"Stage":{"id":"Stage","path":"RsvpBackendStack/Api/ValidateInvitationFunction/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.211.0"}},"AssetBucket":{"id":"AssetBucket","path":"RsvpBackendStack/Api/ValidateInvitationFunction/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.211.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/ValidateInvitationFunction/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-us-east-1"},"s3Key":"e59ad93b54218711fb644d67924c38636763dfce3838371424d580998f41967a.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"DatabaseRsvpTableA1E8C671"},"REGION":"us-east-1","STAGE":"production","LOG_LEVEL":"INFO"}},"functionName":"wedding-validate-invitation-production","handler":"index.handler","loggingConfig":{"logGroup":{"Ref":"ApiValidateInvitationLogsF76E078B"}},"memorySize":256,"role":{"Fn::GetAtt":["ApiLambdaExecutionRole807E4FD5","Arn"]},"runtime":"nodejs20.x","tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}],"timeout":30,"tracingConfig":{"mode":"Active"}}}}}},"RsvpApi":{"id":"RsvpApi","path":"RsvpBackendStack/Api/RsvpApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.211.0","metadata":[{"restApiName":"*","description":"*","defaultCorsPreflightOptions":{"allowOrigins":"*","allowMethods":"*","allowHeaders":"*"},"deployOptions":{"stageName":"*","loggingLevel":"INFO","dataTraceEnabled":true,"metricsEnabled":true},"cloudWatchRole":true}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"description":"REST API for wedding RSVP system","name":"wedding-rsvp-api-production","tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}},"CloudWatchRole":{"id":"CloudWatchRole","path":"RsvpBackendStack/Api/RsvpApi/CloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.211.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"applyRemovalPolicy":["retain"]}]},"children":{"ImportCloudWatchRole":{"id":"ImportCloudWatchRole","path":"RsvpBackendStack/Api/RsvpApi/CloudWatchRole/ImportCloudWatchRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/CloudWatchRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"apigateway.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"]]}],"tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"Account":{"id":"Account","path":"RsvpBackendStack/Api/RsvpApi/Account","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAccount","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Account","aws:cdk:cloudformation:props":{"cloudWatchRoleArn":{"Fn::GetAtt":["ApiRsvpApiCloudWatchRole554BDB75","Arn"]}}}},"Deployment":{"id":"Deployment","path":"RsvpBackendStack/Api/RsvpApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.211.0","metadata":[{"description":"*","api":"*","retainDeployments":"*"},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"REST API for wedding RSVP system","restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}}}},"DeploymentStage.production":{"id":"DeploymentStage.production","path":"RsvpBackendStack/Api/RsvpApi/DeploymentStage.production","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.211.0","metadata":[{"deployment":"*","stageName":"*","loggingLevel":"INFO","dataTraceEnabled":true,"metricsEnabled":true}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/DeploymentStage.production/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"ApiRsvpApiDeploymentDDA67C6B0001a071b4769002c17774ecbc5e6e55"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":true,"loggingLevel":"INFO","metricsEnabled":true}],"restApiId":{"Ref":"ApiRsvpApi6D08E9BA"},"stageName":"production","tags":[{"key":"Component","value":"RSVP-API"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"Endpoint":{"id":"Endpoint","path":"RsvpBackendStack/Api/RsvpApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"Default":{"id":"Default","path":"RsvpBackendStack/Api/RsvpApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.211.0","metadata":["*"]},"children":{"OPTIONS":{"id":"OPTIONS","path":"RsvpBackendStack/Api/RsvpApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'https://wedding.himnher.dev'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.wedding.himnher.dev\" || $origin == \"https://api.wedding.himnher.dev\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["ApiRsvpApi6D08E9BA","RootResourceId"]},"restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}}}},"rsvp":{"id":"rsvp","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["ApiRsvpApi6D08E9BA","RootResourceId"]},"pathPart":"rsvp","restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}},"OPTIONS":{"id":"OPTIONS","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'https://wedding.himnher.dev'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.wedding.himnher.dev\" || $origin == \"https://api.wedding.himnher.dev\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ApiRsvpApirsvpC75ABA40"},"restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}}}},"POST":{"id":"POST","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp":{"id":"ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/POST/ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiCreateRSVPFunctionD291B05C","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"ApiRsvpApi6D08E9BA"},"/",{"Ref":"ApiRsvpApiDeploymentStageproduction8243A767"},"/POST/rsvp"]]}}}},"ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp":{"id":"ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/POST/ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiCreateRSVPFunctionD291B05C","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"ApiRsvpApi6D08E9BA"},"/test-invoke-stage/POST/rsvp"]]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiCreateRSVPFunctionD291B05C","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ApiRsvpApirsvpC75ABA40"},"restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}}}},"GET":{"id":"GET","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp":{"id":"ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/GET/ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiListRSVPsFunction7050ABE0","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"ApiRsvpApi6D08E9BA"},"/",{"Ref":"ApiRsvpApiDeploymentStageproduction8243A767"},"/GET/rsvp"]]}}}},"ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp":{"id":"ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/GET/ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiListRSVPsFunction7050ABE0","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"ApiRsvpApi6D08E9BA"},"/test-invoke-stage/GET/rsvp"]]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiListRSVPsFunction7050ABE0","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ApiRsvpApirsvpC75ABA40"},"restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}}}},"validate":{"id":"validate","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ApiRsvpApirsvpC75ABA40"},"pathPart":"validate","restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}},"OPTIONS":{"id":"OPTIONS","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'https://wedding.himnher.dev'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.wedding.himnher.dev\" || $origin == \"https://api.wedding.himnher.dev\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ApiRsvpApirsvpvalidateC1264089"},"restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}}}},"POST":{"id":"POST","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp.validate":{"id":"ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp.validate","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate/POST/ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp.validate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiValidateInvitationFunction2611D1F2","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"ApiRsvpApi6D08E9BA"},"/",{"Ref":"ApiRsvpApiDeploymentStageproduction8243A767"},"/POST/rsvp/validate"]]}}}},"ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp.validate":{"id":"ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp.validate","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate/POST/ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.POST..rsvp.validate","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiValidateInvitationFunction2611D1F2","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"ApiRsvpApi6D08E9BA"},"/test-invoke-stage/POST/rsvp/validate"]]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/validate/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiValidateInvitationFunction2611D1F2","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ApiRsvpApirsvpvalidateC1264089"},"restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}}}}}},"{rsvpId}":{"id":"{rsvpId}","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.211.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"ApiRsvpApirsvpC75ABA40"},"pathPart":"{rsvpId}","restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}},"OPTIONS":{"id":"OPTIONS","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token'","method.response.header.Access-Control-Allow-Origin":"'https://wedding.himnher.dev'","method.response.header.Vary":"'Origin'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"},"responseTemplates":{"application/json":"#set($origin = $input.params().header.get(\"Origin\"))\n#if($origin == \"\")\n  #set($origin = $input.params().header.get(\"origin\"))\n#end\n#if($origin == \"https://www.wedding.himnher.dev\" || $origin == \"https://api.wedding.himnher.dev\" || $origin == \"http://localhost:3000\" || $origin == \"http://localhost:5173\")\n  #set($context.responseOverride.header.Access-Control-Allow-Origin = $origin)\n#end"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Vary":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"ApiRsvpApirsvprsvpIdE87DAB1D"},"restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}}}},"GET":{"id":"GET","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp.{rsvpId}":{"id":"ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp.{rsvpId}","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/GET/ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp.{rsvpId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiGetRSVPFunction4A628E81","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"ApiRsvpApi6D08E9BA"},"/",{"Ref":"ApiRsvpApiDeploymentStageproduction8243A767"},"/GET/rsvp/*"]]}}}},"ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp.{rsvpId}":{"id":"ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp.{rsvpId}","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/GET/ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.GET..rsvp.{rsvpId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiGetRSVPFunction4A628E81","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"ApiRsvpApi6D08E9BA"},"/test-invoke-stage/GET/rsvp/*"]]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiGetRSVPFunction4A628E81","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ApiRsvpApirsvprsvpIdE87DAB1D"},"restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}}}},"PUT":{"id":"PUT","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.211.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.PUT..rsvp.{rsvpId}":{"id":"ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.PUT..rsvp.{rsvpId}","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/PUT/ApiPermission.RsvpBackendStackApiRsvpApi94F5ACF9.PUT..rsvp.{rsvpId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiUpdateRSVPFunction1593C95E","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"ApiRsvpApi6D08E9BA"},"/",{"Ref":"ApiRsvpApiDeploymentStageproduction8243A767"},"/PUT/rsvp/*"]]}}}},"ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.PUT..rsvp.{rsvpId}":{"id":"ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.PUT..rsvp.{rsvpId}","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/PUT/ApiPermission.Test.RsvpBackendStackApiRsvpApi94F5ACF9.PUT..rsvp.{rsvpId}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ApiUpdateRSVPFunction1593C95E","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:us-east-1:",{"Ref":"AWS::AccountId"},":",{"Ref":"ApiRsvpApi6D08E9BA"},"/test-invoke-stage/PUT/rsvp/*"]]}}}},"Resource":{"id":"Resource","path":"RsvpBackendStack/Api/RsvpApi/Default/rsvp/{rsvpId}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ApiUpdateRSVPFunction1593C95E","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"ApiRsvpApirsvprsvpIdE87DAB1D"},"restApiId":{"Ref":"ApiRsvpApi6D08E9BA"}}}}}}}}}}}}}}}},"ApiDomain":{"id":"ApiDomain","path":"RsvpBackendStack/ApiDomain","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"WeddingHostedZone":{"id":"WeddingHostedZone","path":"RsvpBackendStack/ApiDomain/WeddingHostedZone","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.211.0","metadata":[]}},"ApiCertificate":{"id":"ApiCertificate","path":"RsvpBackendStack/ApiDomain/ApiCertificate","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.Certificate","version":"2.211.0","metadata":[{"domainName":"*","certificateName":"*","validation":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/ApiDomain/ApiCertificate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_certificatemanager.CfnCertificate","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::CertificateManager::Certificate","aws:cdk:cloudformation:props":{"domainName":"api.wedding.himnher.dev","domainValidationOptions":[{"domainName":"api.wedding.himnher.dev","hostedZoneId":"Z08237002D3AKVKPC3U13"}],"tags":[{"key":"Component","value":"API-Domain"},{"key":"Domain","value":"api.wedding.himnher.dev"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Name","value":"wedding-api-cert-production"},{"key":"Project","value":"WeddingWebsite"}],"validationMethod":"DNS"}}}}},"ApiDomainName":{"id":"ApiDomainName","path":"RsvpBackendStack/ApiDomain/ApiDomainName","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.DomainName","version":"2.211.0","metadata":[{"domainName":"*","certificate":"*","endpointType":"REGIONAL","securityPolicy":"TLS_1_2"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/ApiDomain/ApiDomainName/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDomainName","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::DomainName","aws:cdk:cloudformation:props":{"domainName":"api.wedding.himnher.dev","endpointConfiguration":{"types":["REGIONAL"]},"regionalCertificateArn":{"Ref":"ApiDomainApiCertificateF40FCEA1"},"securityPolicy":"TLS_1_2","tags":[{"key":"Component","value":"API-Domain"},{"key":"Domain","value":"api.wedding.himnher.dev"},{"key":"Environment","value":"production"},{"key":"ManagedBy","value":"CDK"},{"key":"Project","value":"WeddingWebsite"}]}}}}},"ApiBasePathMapping":{"id":"ApiBasePathMapping","path":"RsvpBackendStack/ApiDomain/ApiBasePathMapping","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.BasePathMapping","version":"2.211.0","metadata":[{"domainName":"*","restApi":"*","basePath":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/ApiDomain/ApiBasePathMapping/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnBasePathMapping","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::BasePathMapping","aws:cdk:cloudformation:props":{"basePath":"","domainName":{"Ref":"ApiDomainApiDomainNameF0B5160F"},"restApiId":{"Ref":"ApiRsvpApi6D08E9BA"},"stage":{"Ref":"ApiRsvpApiDeploymentStageproduction8243A767"}}}}}},"ApiAliasRecord":{"id":"ApiAliasRecord","path":"RsvpBackendStack/ApiDomain/ApiAliasRecord","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.ARecord","version":"2.211.0","metadata":[{"zone":"*","recordName":"*","target":"*","comment":"*"},{"zone":"*","recordName":"*","target":"*","comment":"*"}]},"children":{"Resource":{"id":"Resource","path":"RsvpBackendStack/ApiDomain/ApiAliasRecord/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_route53.CfnRecordSet","version":"2.211.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Route53::RecordSet","aws:cdk:cloudformation:props":{"aliasTarget":{"dnsName":{"Fn::GetAtt":["ApiDomainApiDomainNameF0B5160F","RegionalDomainName"]},"hostedZoneId":{"Fn::GetAtt":["ApiDomainApiDomainNameF0B5160F","RegionalHostedZoneId"]}},"comment":"API Gateway domain for wedding RSVP API - production","hostedZoneId":"Z08237002D3AKVKPC3U13","name":"api.wedding.himnher.dev.","type":"A"}}}}},"ApiDomainUrl":{"id":"ApiDomainUrl","path":"RsvpBackendStack/ApiDomain/ApiDomainUrl","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"ApiGatewayDomainName":{"id":"ApiGatewayDomainName","path":"RsvpBackendStack/ApiDomain/ApiGatewayDomainName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}}}},"ApiEndpoint":{"id":"ApiEndpoint","path":"RsvpBackendStack/ApiEndpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"TableName":{"id":"TableName","path":"RsvpBackendStack/TableName","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"TableArn":{"id":"TableArn","path":"RsvpBackendStack/TableArn","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.211.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"RsvpBackendStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"RsvpBackendStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.211.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"RsvpBackendStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.211.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"RsvpBackendStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.211.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}